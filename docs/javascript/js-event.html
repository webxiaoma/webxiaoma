<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript之事件 | 马新想个人网站（webxiaoma）</title>
    <meta name="description" content="本文讲述js一些基础知识，事件代理和事件冒泡。">
    <link rel="icon" href="/img/icon.ico">
    <meta name="keywords" content="js, js 事件, js事件代理，事件冒泡">
    <link rel="preload" href="/assets/css/0.styles.97566d20.css" as="style"><link rel="preload" href="/assets/js/app.b5bf64aa.js" as="script"><link rel="preload" href="/assets/js/43.9f997de2.js" as="script"><link rel="prefetch" href="/assets/js/10.a43becf7.js"><link rel="prefetch" href="/assets/js/100.79790541.js"><link rel="prefetch" href="/assets/js/101.ba402091.js"><link rel="prefetch" href="/assets/js/102.7f37dd35.js"><link rel="prefetch" href="/assets/js/103.0b589f8a.js"><link rel="prefetch" href="/assets/js/104.36d4a297.js"><link rel="prefetch" href="/assets/js/105.01ddbf3f.js"><link rel="prefetch" href="/assets/js/106.15d08253.js"><link rel="prefetch" href="/assets/js/107.ed9bffe7.js"><link rel="prefetch" href="/assets/js/108.2aedfbfa.js"><link rel="prefetch" href="/assets/js/109.36b63c81.js"><link rel="prefetch" href="/assets/js/11.dd3bc02b.js"><link rel="prefetch" href="/assets/js/110.7867e882.js"><link rel="prefetch" href="/assets/js/111.99dc1a91.js"><link rel="prefetch" href="/assets/js/112.3e2abe50.js"><link rel="prefetch" href="/assets/js/113.5ed0daee.js"><link rel="prefetch" href="/assets/js/114.5c430289.js"><link rel="prefetch" href="/assets/js/115.a09d91b3.js"><link rel="prefetch" href="/assets/js/116.760bf6ac.js"><link rel="prefetch" href="/assets/js/117.c162fa1d.js"><link rel="prefetch" href="/assets/js/118.3832af96.js"><link rel="prefetch" href="/assets/js/12.6626c043.js"><link rel="prefetch" href="/assets/js/13.2e7e151a.js"><link rel="prefetch" href="/assets/js/14.8ebc7a8b.js"><link rel="prefetch" href="/assets/js/15.3de2318d.js"><link rel="prefetch" href="/assets/js/16.da762ddc.js"><link rel="prefetch" href="/assets/js/17.5f4e64b0.js"><link rel="prefetch" href="/assets/js/18.41ee63c7.js"><link rel="prefetch" href="/assets/js/19.953c7613.js"><link rel="prefetch" href="/assets/js/2.ad99329b.js"><link rel="prefetch" href="/assets/js/20.0c814b68.js"><link rel="prefetch" href="/assets/js/21.7e558d1f.js"><link rel="prefetch" href="/assets/js/22.df62add3.js"><link rel="prefetch" href="/assets/js/23.3269893b.js"><link rel="prefetch" href="/assets/js/24.d0b7ac11.js"><link rel="prefetch" href="/assets/js/25.ea6099b3.js"><link rel="prefetch" href="/assets/js/26.ac17a213.js"><link rel="prefetch" href="/assets/js/27.2e943546.js"><link rel="prefetch" href="/assets/js/28.be76bfa4.js"><link rel="prefetch" href="/assets/js/29.6dcf3fa1.js"><link rel="prefetch" href="/assets/js/3.4e7942c3.js"><link rel="prefetch" href="/assets/js/30.aa229fb1.js"><link rel="prefetch" href="/assets/js/31.d3eda695.js"><link rel="prefetch" href="/assets/js/32.757d8f72.js"><link rel="prefetch" href="/assets/js/33.dba8491e.js"><link rel="prefetch" href="/assets/js/34.6c0d0a74.js"><link rel="prefetch" href="/assets/js/35.2223dd93.js"><link rel="prefetch" href="/assets/js/36.2b0f7b44.js"><link rel="prefetch" href="/assets/js/37.f57e4cdd.js"><link rel="prefetch" href="/assets/js/38.746d20b3.js"><link rel="prefetch" href="/assets/js/39.8eb99886.js"><link rel="prefetch" href="/assets/js/4.f6ae4cfc.js"><link rel="prefetch" href="/assets/js/40.4897882e.js"><link rel="prefetch" href="/assets/js/41.2ee37165.js"><link rel="prefetch" href="/assets/js/42.81f23906.js"><link rel="prefetch" href="/assets/js/44.6fceee93.js"><link rel="prefetch" href="/assets/js/45.4d746b25.js"><link rel="prefetch" href="/assets/js/46.4ef520a1.js"><link rel="prefetch" href="/assets/js/47.1be4b762.js"><link rel="prefetch" href="/assets/js/48.2f9e0c4d.js"><link rel="prefetch" href="/assets/js/49.2d917d0d.js"><link rel="prefetch" href="/assets/js/5.9d0b63f3.js"><link rel="prefetch" href="/assets/js/50.81c9e321.js"><link rel="prefetch" href="/assets/js/51.a34c1bc0.js"><link rel="prefetch" href="/assets/js/52.256c21f3.js"><link rel="prefetch" href="/assets/js/53.2b559954.js"><link rel="prefetch" href="/assets/js/54.5f0a7878.js"><link rel="prefetch" href="/assets/js/55.d4e44aa7.js"><link rel="prefetch" href="/assets/js/56.d2246bfc.js"><link rel="prefetch" href="/assets/js/57.4692aa4f.js"><link rel="prefetch" href="/assets/js/58.1e0e42bc.js"><link rel="prefetch" href="/assets/js/59.709d9e20.js"><link rel="prefetch" href="/assets/js/6.ad473cbf.js"><link rel="prefetch" href="/assets/js/60.aec59b1e.js"><link rel="prefetch" href="/assets/js/61.d8e8fd82.js"><link rel="prefetch" href="/assets/js/62.21cbbea1.js"><link rel="prefetch" href="/assets/js/63.3fe98e61.js"><link rel="prefetch" href="/assets/js/64.e84698a3.js"><link rel="prefetch" href="/assets/js/65.0ec1cb00.js"><link rel="prefetch" href="/assets/js/66.bd26bd1f.js"><link rel="prefetch" href="/assets/js/67.fe7a883d.js"><link rel="prefetch" href="/assets/js/68.15b3afdc.js"><link rel="prefetch" href="/assets/js/69.5b19cfc0.js"><link rel="prefetch" href="/assets/js/7.17adf896.js"><link rel="prefetch" href="/assets/js/70.325600ba.js"><link rel="prefetch" href="/assets/js/71.ce699b17.js"><link rel="prefetch" href="/assets/js/72.920f860c.js"><link rel="prefetch" href="/assets/js/73.136b80a7.js"><link rel="prefetch" href="/assets/js/74.03fa0c74.js"><link rel="prefetch" href="/assets/js/75.2bcfd749.js"><link rel="prefetch" href="/assets/js/76.4019ddf1.js"><link rel="prefetch" href="/assets/js/77.4a1d2e0c.js"><link rel="prefetch" href="/assets/js/78.eb1ccde9.js"><link rel="prefetch" href="/assets/js/79.bc0b47e3.js"><link rel="prefetch" href="/assets/js/8.44914b79.js"><link rel="prefetch" href="/assets/js/80.7769467a.js"><link rel="prefetch" href="/assets/js/81.4701db5b.js"><link rel="prefetch" href="/assets/js/82.571ab4e7.js"><link rel="prefetch" href="/assets/js/83.350f1c93.js"><link rel="prefetch" href="/assets/js/84.721b9cc7.js"><link rel="prefetch" href="/assets/js/85.6c3f1089.js"><link rel="prefetch" href="/assets/js/86.20bedcd1.js"><link rel="prefetch" href="/assets/js/87.2ad8134f.js"><link rel="prefetch" href="/assets/js/88.39fca244.js"><link rel="prefetch" href="/assets/js/89.d1eb119c.js"><link rel="prefetch" href="/assets/js/9.d127dfc2.js"><link rel="prefetch" href="/assets/js/90.82aabff6.js"><link rel="prefetch" href="/assets/js/91.ac048abf.js"><link rel="prefetch" href="/assets/js/92.41b58ef6.js"><link rel="prefetch" href="/assets/js/93.91b0bf78.js"><link rel="prefetch" href="/assets/js/94.acee6d9b.js"><link rel="prefetch" href="/assets/js/95.c7db73df.js"><link rel="prefetch" href="/assets/js/96.0d3efce6.js"><link rel="prefetch" href="/assets/js/97.a4282f32.js"><link rel="prefetch" href="/assets/js/98.44e15af2.js"><link rel="prefetch" href="/assets/js/99.ae36764d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.97566d20.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/manong.jpg" alt="马新想" class="logo"> <span class="site-name can-hide">马新想个人网站</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide" data-v-e7df0cd8><ul role="menubar" class="el-menu-demo el-menu--horizontal el-menu" style="background-color:;" data-v-e7df0cd8><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-e7df0cd8>
        首页
        <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        前端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        JavaScript
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        ECMAScript6
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        设计模式
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          移动端
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           H5页面开发
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           PWA应用
           <!----></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          前端工具
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           Webpack打包
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           Git版本工具
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           ESLint代码检测
           <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        Vue
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        React
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          前端插件
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           日历插件
           <!----></li></ul></div></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        后端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        Linux
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        NodeJS
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        
         <a href="https://webxiaoma.github.io/java-demos/docs/blogs/" target="_blank" style="display:block;line-height:35px;" data-v-e7df0cd8>Java</a></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          数据库
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           MongoDB
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           
           <a href="https://webxiaoma.github.io/tools-docs/docs/blogs/database/mysql-install.html" target="_blank" style="display:block;line-height:35px;" data-v-e7df0cd8>MySQL</a></li></ul></div></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-e7df0cd8>
        知识点
        <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-e7df0cd8>
        
        <a href="https://webxiaoma.github.io/tools-docs/docs/blogs/index.html" target="_blank" style="display:block;line-height:35px;" data-v-e7df0cd8>工具</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-e7df0cd8>
        
        <a href="https://webwangjia.github.io/wechat-demo/docs/blogs/" target="_blank" style="display:block;line-height:35px;" data-v-e7df0cd8>微信</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-e7df0cd8>
        
        <a href="https://github.com/webxiaoma" target="_blank" style="display:block;line-height:35px;" data-v-e7df0cd8>GitHub</a></li></ul></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar" data-v-6135aa50><nav class="nav-links" data-v-e7df0cd8 data-v-6135aa50><ul role="menubar" class="el-menu-demo el-menu--horizontal el-menu" style="background-color:;" data-v-e7df0cd8><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-e7df0cd8>
        首页
        <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        前端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        JavaScript
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        ECMAScript6
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        设计模式
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          移动端
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           H5页面开发
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           PWA应用
           <!----></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          前端工具
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           Webpack打包
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           Git版本工具
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           ESLint代码检测
           <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        Vue
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        React
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          前端插件
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           日历插件
           <!----></li></ul></div></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        后端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        Linux
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        NodeJS
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
        
         <a href="https://webxiaoma.github.io/java-demos/docs/blogs/" target="_blank" style="display:block;line-height:35px;" data-v-e7df0cd8>Java</a></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-e7df0cd8><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          数据库
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           MongoDB
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-e7df0cd8>
           
           <a href="https://webxiaoma.github.io/tools-docs/docs/blogs/database/mysql-install.html" target="_blank" style="display:block;line-height:35px;" data-v-e7df0cd8>MySQL</a></li></ul></div></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-e7df0cd8>
        知识点
        <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-e7df0cd8>
        
        <a href="https://webxiaoma.github.io/tools-docs/docs/blogs/index.html" target="_blank" style="display:block;line-height:35px;" data-v-e7df0cd8>工具</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-e7df0cd8>
        
        <a href="https://webwangjia.github.io/wechat-demo/docs/blogs/" target="_blank" style="display:block;line-height:35px;" data-v-e7df0cd8>微信</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-e7df0cd8>
        
        <a href="https://github.com/webxiaoma" target="_blank" style="display:block;line-height:35px;" data-v-e7df0cd8>GitHub</a></li></ul></nav>  <ul class="sidebar-links" data-v-6135aa50><li data-v-6135aa50><a href="/javascript/" class="sidebar-link" data-v-6135aa50>网站</a></li><li data-v-6135aa50><div class="sidebar-group collapsable" data-v-6135aa50><p class="sidebar-heading open"><span>JS基础知识</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/javascript/js-bom.html" class="sidebar-link">JS BOM操作</a></li><li><a href="/javascript/js-dom.html" class="sidebar-link">JS DOM操作</a></li><li><a href="/javascript/js-event.html" class="active sidebar-link">JavaScript之事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/js-event.html#什么是js事件" class="sidebar-link">什么是js事件</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#html-中触发js的几种方法" class="sidebar-link">HTML 中触发js的几种方法</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#js-常用的事件" class="sidebar-link">js 常用的事件</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#事件（合成）对象event" class="sidebar-link">事件（合成）对象Event</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/js-event.html#_1-获取-键盘按键信息" class="sidebar-link">1. 获取 键盘按键信息</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#_2-获取鼠标位置" class="sidebar-link">2. 获取鼠标位置</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#_3-获取鼠标按钮" class="sidebar-link">3. 获取鼠标按钮</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#事件的冒泡和捕获" class="sidebar-link">事件的冒泡和捕获</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#js事件委托" class="sidebar-link">JS事件委托</a></li></ul></li><li><a href="/javascript/js-object.html" class="sidebar-link">JavaScript之面向对象</a></li><li><a href="/javascript/js-function.html" class="sidebar-link">JavaScript之函数</a></li><li><a href="/javascript/js-prototype-proto.html" class="sidebar-link">JavaScript之原型与原型链</a></li><li><a href="/javascript/js-execution-contexts.html" class="sidebar-link">JavaScript之执行上下文</a></li><li><a href="/javascript/js-variable-object.html" class="sidebar-link">JavaScript之变量对象</a></li><li><a href="/javascript/js-scope-chain.html" class="sidebar-link">JavaScript之作用域和作用域链</a></li><li><a href="/javascript/js-this-1.html" class="sidebar-link">JavaScript之This（一）</a></li><li><a href="/javascript/js-this.html" class="sidebar-link">JavaScript之This（二）</a></li><li><a href="/javascript/js-closure.html" class="sidebar-link">JavaScript之闭包</a></li><li><a href="/javascript/js-trash-recycling.html" class="sidebar-link">JavaScript之垃圾回收机制</a></li><li><a href="/javascript/js-data-type.html" class="sidebar-link">JavaScript之基础类型和引用类型</a></li><li><a href="/javascript/js-new.html" class="sidebar-link">JavaScript之new操作符</a></li><li><a href="/javascript/js-callAndApply.html" class="sidebar-link">JavaScript之Call、Apply和bind</a></li><li><a href="/javascript/js-throttle-and-shake.html" class="sidebar-link">JavaScript之防抖和节流</a></li></ul></div></li><li data-v-6135aa50><div class="sidebar-group collapsable" data-v-6135aa50><p class="sidebar-heading"><span>ES6篇</span> <span class="arrow right"></span></p> <!----></div></li><li data-v-6135aa50><div class="sidebar-group collapsable" data-v-6135aa50><p class="sidebar-heading"><span>音频视频处理</span> <span class="arrow right"></span></p> <!----></div></li><li data-v-6135aa50><div class="sidebar-group collapsable" data-v-6135aa50><p class="sidebar-heading"><span>文件与二进制处理</span> <span class="arrow right"></span></p> <!----></div></li><li data-v-6135aa50><div class="sidebar-group collapsable" data-v-6135aa50><p class="sidebar-heading"><span>离线-缓存-存储</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="javascript之事件"><a href="#javascript之事件" class="header-anchor">#</a> JavaScript之事件</h1> <h2 id="什么是js事件"><a href="#什么是js事件" class="header-anchor">#</a> 什么是js事件</h2> <blockquote><p>事件是与浏览器或文档交互的瞬间，如点击按钮，填写表格等，它是JS与HTML之间交互的桥梁。</p></blockquote> <h2 id="html-中触发js的几种方法"><a href="#html-中触发js的几种方法" class="header-anchor">#</a> HTML 中触发js的几种方法</h2> <ol><li>第一种,直接在HTML 内嵌js</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>javascript:var a = 1+3; alert(a);<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>第二种</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fun()<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是第二种方法&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>第三种</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是第三种方法&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="4"><li>事件监听和移除</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div3<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
     addEventListener  点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">myFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;触发了&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>myFun<span class="token punctuation">)</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>myFun<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="js-常用的事件"><a href="#js-常用的事件" class="header-anchor">#</a> js 常用的事件</h2> <p><a href="http://www.runoob.com/jsref/dom-obj-event.html" target="_blank" rel="noopener noreferrer">js详细事件-见菜鸟教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>这里讲几个特殊事件：</p> <ul><li><p><code>onmouseenter</code>	当鼠标指针移动到元素上时触发。</p></li> <li><p><code>onmouseleave</code>	当鼠标指针移出元素时触发</p></li> <li><p><code>onmouseover</code>	鼠标移到某元素之上。</p></li> <li><p><code>onmouseout</code>	鼠标从某元素移开。</p></li></ul> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p><code>onmouseenter</code> 和 <code>onmouseover</code> 都是移动到元素上时触发，但是区别是<code>onmouseenter</code>移动到子元素上时也会再次触发并且还会再次冒泡到父元素，而<code>onmouseover</code> 只触发一次，当移动到元素的子元素时不会在有再触发也不会在冒泡,</p></div> <h2 id="事件（合成）对象event"><a href="#事件（合成）对象event" class="header-anchor">#</a> 事件（合成）对象Event</h2> <blockquote><p>Event 对象代表事件的状态，比如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态。</p></blockquote> <blockquote><p>事件通常与函数结合使用，函数不会在事件发生前被执行！</p></blockquote> <p>Event 对象 是在鼠标键盘事件触发时，注入到触发函数中的，以函数中第一个参数来表示。例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div1'</span><span class="token punctuation">)</span>
div1<span class="token punctuation">.</span><span class="token function-variable function">onmouseenter</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//event.target 获取到的是触发的事件源，这里只 id为 div1 的元素</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-获取-键盘按键信息"><a href="#_1-获取-键盘按键信息" class="header-anchor">#</a> 1. 获取 键盘按键信息</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 当键盘按键按下时会输出所按下的按钮名称</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-获取鼠标位置"><a href="#_2-获取鼠标位置" class="header-anchor">#</a> 2. 获取鼠标位置</h3> <p><strong>2.1 浏览器的可视坐标 clientX与clientY</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在浏览器中的X坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在浏览器中的Y坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>需要注意的是： 再给body添加事件时要给body设置高度，因为body默认高度为0</p> <p><strong>2.2 设备屏幕坐标 screenX与 screenY</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在设备屏幕中的X坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>screenX<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在设备屏幕中的Y坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>screenY<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>2.3 movementX 和 movementY 坐标轴</strong></p> <p><code>movementX</code> 和 <code>movementY</code> 鼠标位置是以鼠标进入元素时的x和y轴为初始坐标（0,0）, 向左x轴坐标为负值，向右x轴坐标为正值，向上y轴坐标为正值，向下为负值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标的X坐标：'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>movementX<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标的Y坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>movementY<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-获取鼠标按钮"><a href="#_3-获取鼠标按钮" class="header-anchor">#</a> 3. 获取鼠标按钮</h3> <p>在<code>onmousedown</code> 事件中我们可以通过 <code>event.button</code> 来获取鼠标按下的信息</p> <p>以webkit 内核的浏览器为例:</p> <div class="language-js extra-class"><pre class="language-js"><code>body<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标按下左键为(0)：&quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标按下滚轮键为(1)：&quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标按下右键为(2)：&quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>一般浏览器有默认行为，我们想阻止浏览器默认行为可以使用 <code>eventDefault()</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function-variable function">oncontextmenu</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   event<span class="token punctuation">.</span><span class="token function">eventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止浏览器出现右键菜单栏</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="事件的冒泡和捕获"><a href="#事件的冒泡和捕获" class="header-anchor">#</a> 事件的冒泡和捕获</h2> <blockquote><p>冒泡事件，由里向外，最里层的元素先执行，然后冒泡到外层。</p></blockquote> <blockquote><p>捕获事件，由外向里，最外层的元素先执行，然后传递到内部。</p></blockquote> <div class="language-HTML extra-class"><pre class="language-html"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>div2 我先冒泡后捕获<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    我先捕获后冒泡
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div1'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> div2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div2'</span><span class="token punctuation">)</span>

    div1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div1&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    div2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div2&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><ol><li>阻止事件冒泡可以使用 <code>stopPropagation()</code></li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>div2 我先冒泡后捕获<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    我先捕获后冒泡
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div1'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> div2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div2'</span><span class="token punctuation">)</span>

    div1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div1&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    div2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止div2事件冒泡</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div2&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="js事件委托"><a href="#js事件委托" class="header-anchor">#</a> JS事件委托</h2> <p>那什么叫事件委托呢？它还有一个名字叫事件代理，JavaScript高级程序设计上讲：事件委托就是利用事件冒泡，只指定一个事件处理程序，就可以管理某一类型的所有事件。下面我们来列举一个简单的例子来引出JS事件委托。</p> <p>现在我们有这样段代码</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>添加li标签<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>第一个<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>第二个<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>第三个<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>我们来给每个li标签添加一个点击事件，并弹出对应标签的内容</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> AllLi <span class="token operator">=</span> ul<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> oBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> iNow <span class="token operator">=</span> ３<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>AllLi<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    AllLi<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">click</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>innerText<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   iNow <span class="token operator">++</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> oLi <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   oLi<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span>　<span class="token string">&quot;第&quot;</span><span class="token operator">+</span>iNow<span class="token operator">+</span><span class="token string">&quot;个&quot;</span><span class="token punctuation">;</span>
   ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oLi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre></div><p>现在我们点击页面上的每个li标签都会弹出对应的内容，接下来我们点击按钮，新添加几个lｉ标签，然后我们点击新添加的li标签会发现没有任何反应。为什么没有反应呢，这是因为我们上面的方法只能够给页面中已经存在的元素添加事件，使用js后生成的元素时用这种方法是添加不上的。这时我们就要事件委托来处理这种情况了，当然我们还有其它方法，这里只是为了讲解事件委托。</p> <div class="tip custom-block"><p class="custom-block-title">原理</p> <p>事件委托是利用事件的冒泡原理来实现的，何为事件冒泡呢？就是事件从最深的节点开始，然后逐步向上传播事件，举个例子：页面上有这么一个节点树，div&gt;ul&gt;li&gt;a;比如给最里面的a加一个click点击事件，那么这个事件就会一层一层的往外执行，执行顺序a&gt;li&gt;ul&gt;div，有这样一个机制，那么我们给最外面的div加点击事件，那么里面的ul，li，a做点击事件的时候，都会冒泡到最外层的div上，所以都会触发，这就是事件委托，委托它们父级代为执行事件。</p></div> <p>接下来我们使用事件委托来重写js代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> oUl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> aLi <span class="token operator">=</span> oUl<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> oBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> iNow <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 
oUl<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> ev <span class="token operator">=</span> ev <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> ev<span class="token punctuation">.</span>target <span class="token operator">||</span> ev<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    iNow <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> oLi <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    oLi<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;第&quot;</span><span class="token operator">+</span>iNow<span class="token operator">+</span><span class="token string">&quot;个&quot;</span><span class="token punctuation">;</span>
    oUl<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oLi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/webxiaoma/webxiaoma/edit/dev/docs/javascript/js-event.md" target="_blank" rel="noopener noreferrer">文章有问题，欢迎提出！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最近更新时间: </span> <span class="time">3/31/2020, 6:01:36 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/javascript/js-dom.html" class="prev">
          JS DOM操作
        </a></span> <span class="next"><a href="/javascript/js-object.html">
          JavaScript之面向对象
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.b5bf64aa.js" defer></script><script src="/assets/js/43.9f997de2.js" defer></script>
  </body>
</html>
