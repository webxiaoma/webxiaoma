---
sidebarDepth: 2
meta:
  - name: keywords
    content: 移动端开发, viewport, 移动端知识点，H5页面，H5，rem、em，meta标签，css媒体查询，@media
  - name: description
    content: 本文章为移动端开发的前言，以及开发移动端提前需要知道的知识点，比如viewport css单位如：px、rem、em、vh、vw，以及css媒体查询@media和移动端常用的meta标签。
---

# 移动端的适配

---

## 适配方案

[布局 GitHub 练习仓库](https://github.com/webxiaoma/phone-demo/tree/master/self-adaption)

### 1. Rem 布局

`rem` 布局不是什么新鲜的布局方式了，它的原理就是利用rem单为是相对html根元素的font-size 进行变化的，我们在不同的屏幕尺寸下动态的改变根元素字体大小，这样我们就可以达到页面自动的使用不同手机屏幕。

我们来简单的实现一下这种方式：

- 首先我们有一个 `750 X 1334`的设计稿
- 我们将其展示在手机端（这里以`375*667`的iphone6 为例）

我们的思路是这样的，我们将手机屏幕宽度等分成10份，每一份的大小做为我们的跟字体大小

```js
var width = screen.width;
var html = document.documentElement;

html.style.fontSize = width/10 + 'px';
```

以`375*667`的iphone6 为例这时我们根字体就是`37.5px`。（为什么等分成10份，这是为了方便我们进行换算，另外有些浏览器有默认的最小字体大小，如果你等分成100份，将跟字体就为`3.75px`这时有可能不起作用。）现在我们`1rem`就等于`37.5px`，也就是手机屏幕的十份之一。这时我们将我们的设计稿也等分成十份，每一份就是`75px`。当我们设计稿有一个展示区是`375px`时，我们可以计算出它占我们设计稿的`375/75 = 5份`，也就是设计稿的一半，当我们要呈现在手机上是，也要让他占一半，也就是五份换算成`rem`就是`5rem`。

最终我们可以得出一个结论就是在`375*667`的iphone6 这我们量出尺寸后可以除以设计稿宽堵塞十分之一就得出他所有占的份数，这个份数就是我们要换算成的`rem`。

再比如我们量出一个 200px宽度的div，换算成rem为`200/75 = 2.666`（大约）。我们每次量的psd尺寸都要处理`75`才可以换成rem，这样操作起来很麻烦，我们可以使用`less`

```less
@w:75rem

div{
  width:200/@w;
}

// 上面less编译后就成了这样

div{
  width:2.666666rem;
}
```
另外这里更推荐你使用[posstcss工具](https://github.com/postcss/postcss/blob/master/README-cn.md)中的`postcss-px2rem`插件，你也可以在你的编辑器中集成该插件。

::: warning 注意
我们需要注意的是在设置根节点的字体大小时，最好不要低于12px，因为有些浏览器对`font-size`有默认的最小值。
:::

扫描二维码查看 [或点击链接地址 以手机模式](https://webxiaoma.github.io/phone-demo/self-adaption/rem-phone.html)

<MyImg src="/img/phone.png" alt="phone" />

### 2. vw 布局

使用vw和上边方法类似，`vw`、`vh`、`vmain`、`vmax`他们是百分比的意思，而他们的百分比是相对于视口`viewport`的，[在这里我们已经讲了](http://localhost:5555/phone/#移动端css单位)。 还是以我们的`750 X 1334`的设计稿为例。`100vw`其实就是`100%`，我们当我们测的psd上的尺寸时，我们算一下它占我们psd宽度的多少，还是以上边为例

- 首先我们有一个 `750 X 1334`的设计稿
- 我们将其展示在手机端（这里以`375*667`的iphone6 为例）

使用vw就是将我们屏幕自动分成了`100`份, `1vw`占`1`份，不用我们在去使用`js`设置。所以我们只需要计算我们在psd上量的尺寸占我们psd的百分比就可以。比如设计稿有一个展示区是`375px`时，我们可以计算出它占我们设计稿的`375/750 = 50%`，也就是设计稿的一半，当我们要呈现在手机上是，也要让他占一半，也就是五份换算成`vw`就是`50vw`。所以我们不用写任何js，不过我们还是要进行尺寸的计算，除了使用`less`或其他css预处理器。我们还是更推荐使用[posstcss工具](https://github.com/postcss/postcss/blob/master/README-cn.md)，`posstcss工具` 中有一个[postcss-px-to-viewport](https://github.com/evrone/postcss-px-to-viewport)插件可以将px转换为`vw`


扫描二维码查看 [或点击链接地址 以手机模式](https://webxiaoma.github.io/phone-demo/self-adaption/vw-phone.html)

<MyImg src="/img/phon-two.png" alt="phone" />


::: warning 注意
需要注意的是上边我们只说了布局的方法，没有考虑移动端`border 1px` 问题。也没有说图片处理问题。
:::


## 边框1px问题


## 图片处理问题













**相关文章**

- [使用Flexible实现手淘H5页面的终端适配 ](https://github.com/amfe/article/issues/17)
- [拉钩、网易和淘宝的移动端处理对比](http://www.cnblogs.com/lyzg/p/4877277.html)
- [移动端布局方案探究](https://juejin.im/post/5a8c12935188257a6049a0a4#heading-12)
- [7 种方法解决移动端 Retina 屏幕 1px 边框问题](https://juejin.im/entry/584e427361ff4b006cd22c7c)

