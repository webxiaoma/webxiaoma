(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{487:function(e,o,a){},522:function(e,o,a){"use strict";a(487)},533:function(e,o,a){"use strict";a.r(o);var r=a(63),s=a(152),t=(a(246),a(66),a(67),a(69),a(100),a(98)),i={name:"EnTool",components:{},data:function(){return{checkboxGroup:[1,2,3],readGroup:[1],loop:!1,showMsg:!0,allWords:[],readingIndex:0,timer:null,readingWordObj:{word:"",index:0,msg:"",read:""}}},props:{isReciteTool:{type:Boolean,default:!0},isSoundmarkTool:{type:Boolean,default:!0},isReadTool:{type:Boolean,default:!0}},computed:Object(s.a)({},Object(t.b)(["englishObj","reading"])),watch:{$route:function(e,o){console.log(e)}},created:function(){this.init()},beforeDestroy:function(){this.readStop()},methods:{init:function(){try{var e=localStorage.WEBXIAOMA_ENGLISH;if(e){var o=JSON.parse(e);this.checkboxGroup=Object(r.a)(o.checkboxGroup),this.readGroup=Object(r.a)(o.readGroup)}}catch(e){}},checkboxChange:function(e){var o=this.readGroup,a={showWord:e.indexOf(1)>-1,showSoundmark:e.indexOf(2)>-1,showMeaning:e.indexOf(3)>-1,checkboxGroup:e,readGroup:o};this.$store.dispatch("changeEnglish",a)},readChange:function(e){var o=this.checkboxGroup,a={showWord:o.indexOf(1)>-1,showSoundmark:o.indexOf(2)>-1,showMeaning:o.indexOf(3)>-1,checkboxGroup:o,readGroup:e};this.$store.dispatch("changeEnglish",a)},readStart:function(){this.getAllWords();var e=this.allWords;if(!this.reading){this.video.addEventListener("ended",this.addEventFun);var o=e[this.readingIndex];this.readingWordObj=o,this.readWord(o.word,1),this.$store.dispatch("readChange",!0)}},readStop:function(){this.video.removeEventListener("ended",this.addEventFun),this.$store.dispatch("readChange",!1)},resetClick:function(){this.readingIndex=0,this.readStop(),this.readStart()},addEventFun:function(){var e=this.allWords,o=e.length;if(this.readingIndex=this.readingIndex+1,this.readingIndex>=o)if(this.loop){this.readingIndex=0;var a=e[this.readingIndex];this.readingWordObj=a,this.readWord(a.word,1)}else this.readingIndex=0,this.readingWordObj=Object.assign({},this.readingWordObj,{word:"",index:0,msg:"",read:""}),this.readStop();else{var r=e[this.readingIndex];this.readingWordObj=r,this.readWord(r.word,1)}},getAllWords:function(){if(0===this.allWords.length){var e=document.querySelectorAll("span.word"),o=[];Array.prototype.slice.call(e).forEach((function(e,a){o.push({word:e.getAttribute("data-text"),index:a,msg:e.getAttribute("data-msg"),read:e.getAttribute("data-read")||""})})),this.allWords=[].concat(o)}}}},n=(a(522),a(24)),d=Object(n.a)(i,(function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("div",{staticClass:"englishToolWrapper"},[e.isReciteTool?a("div",{staticClass:"title"},[e._v("背诵模式：")]):e._e(),e._v(" "),e.isReciteTool?a("el-checkbox-group",{attrs:{fillr:"#3eaf7c",size:"small"},on:{change:e.checkboxChange},model:{value:e.checkboxGroup,callback:function(o){e.checkboxGroup=o},expression:"checkboxGroup"}},[a("el-checkbox-button",{key:1,attrs:{label:1}},[e._v(e._s(e.checkboxGroup.indexOf(1)>-1?"隐藏":"显示")+"单词")]),e._v(" "),a("el-checkbox-button",{key:2,attrs:{label:2}},[e._v(e._s(e.checkboxGroup.indexOf(2)>-1?"隐藏":"显示")+"读音")]),e._v(" "),a("el-checkbox-button",{key:3,attrs:{label:3}},[e._v(e._s(e.checkboxGroup.indexOf(3)>-1?"隐藏":"显示")+"含义")])],1):e._e(),e._v(" "),a("div",{staticClass:"title"},[e._v("读音操作：")]),e._v(" "),a("div",{staticClass:"readWrapper"},[e.isSoundmarkTool?a("div",{staticClass:"btnWrapper"},[a("el-checkbox-group",{attrs:{fillr:"#3eaf7c",size:"small"},on:{change:e.readChange},model:{value:e.readGroup,callback:function(o){e.readGroup=o},expression:"readGroup"}},[a("el-checkbox-button",{key:1,attrs:{label:1}},[e._v("美音")]),e._v(" "),a("el-checkbox-button",{key:2,attrs:{label:2}},[e._v("英音")])],1)],1):e._e(),e._v(" "),e.isReadTool?a("div",{staticClass:"btnWrapper"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.reading,expression:"!reading"}],attrs:{type:"success",size:"small",icon:"el-icon-video-play"},on:{click:e.readStart}},[e._v("朗读")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.reading,expression:"reading"}],attrs:{type:"danger",size:"small",icon:"el-icon-video-pause"},on:{click:e.readStop}},[e._v("停止")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-refresh-right"},on:{click:e.resetClick}},[e._v("重置")]),e._v(" "),a("el-checkbox",{attrs:{border:"",size:"small"},model:{value:e.loop,callback:function(o){e.loop=o},expression:"loop"}},[e._v("循环")]),e._v(" "),a("el-checkbox",{attrs:{border:"",size:"small"},model:{value:e.showMsg,callback:function(o){e.showMsg=o},expression:"showMsg"}},[e._v("含义")])],1):e._e(),e._v(" "),e.isReadTool?a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:e.allWords.length,expression:"allWords.length"}],staticClass:"span"},[e._v("共:"),a("b",[e._v(e._s(e.allWords.length))]),e._v("个单词")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.allWords.length,expression:"allWords.length"}],staticClass:"span"},[e._v("已读个数:"),a("b",[e._v(e._s(e.readingWordObj.index+1)+" ")])]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.readingWordObj.word,expression:"readingWordObj.word"}],staticClass:"wordP"},[e._v("正在读："),a("span",[a("b",[e._v(e._s(e.readingWordObj.word))]),e._v(" "),a("code",{directives:[{name:"show",rawName:"v-show",value:e.readingWordObj.read,expression:"readingWordObj.read"}]},[e._v(e._s(e.readingWordObj.read))])])]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.readingWordObj.msg&&e.showMsg,expression:"readingWordObj.msg&&showMsg"}],staticClass:"wordP"},[e._v("意思："),a("span",[a("b",[e._v(e._s(e.readingWordObj.msg))])])])]):e._e()])],1)}),[],!1,null,"4cae96d9",null);o.default=d.exports}}]);