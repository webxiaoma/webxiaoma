<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS-事件 | 马新想个人网站（webxiaoma）</title>
    <meta name="description" content="本文讲述js一些基础知识，事件代理和事件冒泡。">
    <link rel="icon" href="/img/icon.ico">
  <meta rel="keywords" content="马新想，webxiaoma, 马新想个人网站">
    <meta name="keywords" content="js, js 事件, js事件代理，事件冒泡">
    <link rel="preload" href="/assets/css/0.styles.e568fa61.css" as="style"><link rel="preload" href="/assets/js/app.215daaa3.js" as="script"><link rel="preload" href="/assets/js/11.31dcfc85.js" as="script"><link rel="prefetch" href="/assets/js/8.d2f67782.js"><link rel="prefetch" href="/assets/js/2.541ddb8d.js"><link rel="prefetch" href="/assets/js/3.47584e33.js"><link rel="prefetch" href="/assets/js/4.889700a2.js"><link rel="prefetch" href="/assets/js/5.88fff5b8.js"><link rel="prefetch" href="/assets/js/6.4fcebc43.js"><link rel="prefetch" href="/assets/js/7.f372cbd5.js"><link rel="prefetch" href="/assets/js/9.58d7aff4.js"><link rel="prefetch" href="/assets/js/10.884ac8a4.js"><link rel="prefetch" href="/assets/js/12.3396401d.js"><link rel="prefetch" href="/assets/js/13.ea8b68f1.js"><link rel="prefetch" href="/assets/js/14.12efcec2.js"><link rel="prefetch" href="/assets/js/15.603dc955.js"><link rel="prefetch" href="/assets/js/16.de4588cd.js"><link rel="prefetch" href="/assets/js/17.7881717e.js"><link rel="prefetch" href="/assets/js/18.69097f26.js"><link rel="prefetch" href="/assets/js/19.8faddab0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e568fa61.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/manong.jpg" alt="马新想" class="logo"> <span class="site-name can-hide">马新想个人网站</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide" data-v-39e1d899><ul role="menubar" class="el-menu-demo el-menu--horizontal el-menu" style="background-color:;" data-v-39e1d899><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        首页
        <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-39e1d899><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        博客
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
        JavaScript
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-39e1d899><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          构建工具
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
          Webpack打包
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
          Git工具
           <!----></li></ul></div></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        
        <a href="https://github.com/webxiaoma" target="_blank" style="padding-bottom:5px;" data-v-39e1d899>GitHub</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        
        <a href="http://webxiaoma.coding.me/webxiaoma" target="_blank" style="padding-bottom:5px;" data-v-39e1d899>旧网站</a></li></ul></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar" data-v-1c59037c><nav class="nav-links" data-v-39e1d899 data-v-1c59037c><ul role="menubar" class="el-menu-demo el-menu--horizontal el-menu" style="background-color:;" data-v-39e1d899><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        首页
        <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-39e1d899><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        博客
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
        JavaScript
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-39e1d899><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          构建工具
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
          Webpack打包
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
          Git工具
           <!----></li></ul></div></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        
        <a href="https://github.com/webxiaoma" target="_blank" style="padding-bottom:5px;" data-v-39e1d899>GitHub</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        
        <a href="http://webxiaoma.coding.me/webxiaoma" target="_blank" style="padding-bottom:5px;" data-v-39e1d899>旧网站</a></li></ul></nav>  <ul class="sidebar-links" data-v-1c59037c><li data-v-1c59037c><a href="/javascript/" class="sidebar-link" data-v-1c59037c>前言</a></li><li data-v-1c59037c><a href="/javascript/JS-DOM操作.html" class="sidebar-link" data-v-1c59037c>JS DOM操作</a></li><li data-v-1c59037c><a href="/javascript/JS-BOM操作.html" class="sidebar-link" data-v-1c59037c>JS BOM操作</a></li><li data-v-1c59037c><a href="/javascript/JS-事件.html" class="active sidebar-link" data-v-1c59037c>JS-事件</a><ul class="sidebar-sub-headers" data-v-1c59037c data-v-1c59037c><li class="sidebar-sub-header" data-v-1c59037c data-v-1c59037c><a href="/javascript/JS-事件.html#什么是js事件" class="sidebar-link" data-v-1c59037c>什么是js事件</a></li><li class="sidebar-sub-header" data-v-1c59037c data-v-1c59037c><a href="/javascript/JS-事件.html#html-中触发js的几种方法" class="sidebar-link" data-v-1c59037c>HTML 中触发js的几种方法</a></li><li class="sidebar-sub-header" data-v-1c59037c data-v-1c59037c><a href="/javascript/JS-事件.html#js-常用的事件" class="sidebar-link" data-v-1c59037c>js 常用的事件</a></li><li class="sidebar-sub-header" data-v-1c59037c data-v-1c59037c><a href="/javascript/JS-事件.html#事件（合成）对象event" class="sidebar-link" data-v-1c59037c>事件（合成）对象Event</a><ul class="sidebar-sub-headers" data-v-1c59037c data-v-1c59037c><li class="sidebar-sub-header" data-v-1c59037c data-v-1c59037c><a href="/javascript/JS-事件.html#_1-获取-键盘按键信息" class="sidebar-link" data-v-1c59037c>1. 获取 键盘按键信息</a></li><li class="sidebar-sub-header" data-v-1c59037c data-v-1c59037c><a href="/javascript/JS-事件.html#_2-获取鼠标位置" class="sidebar-link" data-v-1c59037c>2. 获取鼠标位置</a></li><li class="sidebar-sub-header" data-v-1c59037c data-v-1c59037c><a href="/javascript/JS-事件.html#_3-获取鼠标按钮" class="sidebar-link" data-v-1c59037c>3. 获取鼠标按钮</a></li></ul></li><li class="sidebar-sub-header" data-v-1c59037c data-v-1c59037c><a href="/javascript/JS-事件.html#事件的冒泡和捕获" class="sidebar-link" data-v-1c59037c>事件的冒泡和捕获</a></li></ul></li><li data-v-1c59037c><a href="/javascript/js面向对象.html" class="sidebar-link" data-v-1c59037c>JS 面向对象</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="js-事件"><a href="#js-事件" aria-hidden="true" class="header-anchor">#</a> JS-事件</h1> <h2 id="什么是js事件"><a href="#什么是js事件" aria-hidden="true" class="header-anchor">#</a> 什么是js事件</h2> <blockquote><p>事件是与浏览器或文档交互的瞬间，如点击按钮，填写表格等，它是JS与HTML之间交互的桥梁。</p></blockquote> <h2 id="html-中触发js的几种方法"><a href="#html-中触发js的几种方法" aria-hidden="true" class="header-anchor">#</a> HTML 中触发js的几种方法</h2> <ol><li>第一种,直接在HTML 内嵌js</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>javascript:var a = 1+3; alert(a);<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>第二种</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fun()<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是第二种方法&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>第三种</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是第三种方法&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="4"><li>事件监听和移除</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div3<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
     addEventListener  点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">function</span> <span class="token function">myFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;触发了&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>myFun<span class="token punctuation">)</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>myFun<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>

</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="js-常用的事件"><a href="#js-常用的事件" aria-hidden="true" class="header-anchor">#</a> js 常用的事件</h2> <p><a href="http://www.runoob.com/jsref/dom-obj-event.html" target="_blank" rel="noopener noreferrer">js详细事件-见菜鸟教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>这里讲几个特殊事件：</p> <ul><li><p><code>onmouseenter</code>	当鼠标指针移动到元素上时触发。</p></li> <li><p><code>onmouseleave</code>	当鼠标指针移出元素时触发</p></li> <li><p><code>onmouseover</code>	鼠标移到某元素之上。</p></li> <li><p><code>onmouseout</code>	鼠标从某元素移开。</p></li></ul> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p><code>onmouseenter</code> 和 <code>onmouseover</code> 都是移动到元素上时触发，但是区别是<code>onmouseenter</code>移动到子元素上时也会再次触发并且还会再次冒泡到父元素，而<code>onmouseover</code> 只触发一次，当移动到元素的子元素时不会在有再触发也不会在冒泡,</p></div> <h2 id="事件（合成）对象event"><a href="#事件（合成）对象event" aria-hidden="true" class="header-anchor">#</a> 事件（合成）对象Event</h2> <blockquote><p>Event 对象代表事件的状态，比如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态。</p></blockquote> <blockquote><p>事件通常与函数结合使用，函数不会在事件发生前被执行！</p></blockquote> <p>Event 对象 是在鼠标键盘事件触发时，注入到触发函数中的，以函数中第一个参数来表示。例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div1'</span><span class="token punctuation">)</span>
div1<span class="token punctuation">.</span><span class="token function-variable function">onmouseenter</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//event.target 获取到的是触发的事件源，这里只 id为 div1 的元素</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-获取-键盘按键信息"><a href="#_1-获取-键盘按键信息" aria-hidden="true" class="header-anchor">#</a> 1. 获取 键盘按键信息</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 当键盘按键按下时会输出所按下的按钮名称</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-获取鼠标位置"><a href="#_2-获取鼠标位置" aria-hidden="true" class="header-anchor">#</a> 2. 获取鼠标位置</h3> <p><strong>2.1 浏览器的可视坐标 clientX与clientY</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在浏览器中的X坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在浏览器中的Y坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>需要注意的是： 再给body添加事件时要给body设置高度，因为body默认高度为0</p> <p><strong>2.2 设备屏幕坐标 screenX与 screenY</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在设备屏幕中的X坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>screenX<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在设备屏幕中的Y坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>screenY<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>2.3 movementX 和 movementY 坐标轴</strong></p> <p><code>movementX</code> 和 <code>movementY</code> 鼠标位置是以鼠标进入元素时的x和y轴为初始坐标（0,0）, 向左x轴坐标为负值，向右x轴坐标为正值，向上y轴坐标为正值，向下为负值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标的X坐标：'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>movementX<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标的Y坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>movementY<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-获取鼠标按钮"><a href="#_3-获取鼠标按钮" aria-hidden="true" class="header-anchor">#</a> 3. 获取鼠标按钮</h3> <p>在<code>onmousedown</code> 事件中我们可以通过 <code>event.button</code> 来获取鼠标按下的信息</p> <p>以webkit 内核的浏览器为例:</p> <div class="language-js extra-class"><pre class="language-js"><code>body<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标按下左键为(0)：&quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标按下滚轮键为(1)：&quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标按下右键为(2)：&quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>一般浏览器有默认行为，我们想阻止浏览器默认行为可以使用 <code>eventDefault()</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function-variable function">oncontextmenu</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">{</span>
   event<span class="token punctuation">.</span><span class="token function">eventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止浏览器出现右键菜单栏</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="事件的冒泡和捕获"><a href="#事件的冒泡和捕获" aria-hidden="true" class="header-anchor">#</a> 事件的冒泡和捕获</h2> <blockquote><p>冒泡事件，由里向外，最里层的元素先执行，然后冒泡到外层。</p></blockquote> <blockquote><p>捕获事件，由外向里，最外层的元素先执行，然后传递到内部。</p></blockquote> <div class="language-HTML extra-class"><pre class="language-html"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>div2 我先冒泡后捕获<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    我先捕获后冒泡
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div1'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> div2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div2'</span><span class="token punctuation">)</span>

    div1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div1&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    div2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div2&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><ol><li>阻止事件冒泡可以使用 <code>stopPropagation()</code></li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>div2 我先冒泡后捕获<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    我先捕获后冒泡
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div1'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> div2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div2'</span><span class="token punctuation">)</span>

    div1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div1&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    div2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止div2事件冒泡</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div2&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新时间: </span> <span class="time">8/22/2018, 12:05:41 AM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/11.31dcfc85.js" defer></script><script src="/assets/js/app.215daaa3.js" defer></script>
  </body>
</html>
