(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{303:function(t,s,a){"use strict";a.r(s);var e=a(1),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/webxiaoma/webpack-demos/tree/master/webpack4/webpack-dev-server",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-dev-server GitHub 仓库练习"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/webxiaoma/webpack-demos/tree/master/webpack4/webpack-serve",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-serve GitHub 仓库练习"),a("OutboundLink")],1)])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"danger custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[a("code",[t._v("webpack-serve")]),t._v(" 该"),a("a",{attrs:{href:"https://github.com/webpack-contrib/webpack-serve",target:"_blank",rel:"noopener noreferrer"}},[t._v("仓库"),a("OutboundLink")],1),t._v("目前为只读状态，已经被废弃推荐使用"),a("code",[t._v("webpack-dev-server")])])]),t._v(" "),a("p",[a("code",[t._v("Webpack v4.0+")]),t._v("注意该中提供了几个大模块，一个是核心模块 "),a("code",[t._v("webpack")]),t._v(", 命令模块 "),a("code",[t._v("webpack-cli")]),t._v(" 以及 服务器模块 "),a("a",{attrs:{href:"https://github.com/webpack/webpack-dev-server",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-dev-server"),a("OutboundLink")],1),t._v("。实现浏览器的自动刷新和模块热替换我们可以使用服务器模块 "),a("code",[t._v("webpack-dev-server")]),t._v("。")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("在webpack中可以使用"),a("a",{attrs:{href:"https://webpack.docschina.org/configuration/watch/#watch",target:"_blank",rel:"noopener noreferrer"}},[t._v("watch观察模式"),a("OutboundLink")],1),t._v("来监听文件的变动，而不需要每次都编译。启动监听这模式有两种方式：")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._v(" "),a("p",[t._v("使用观察者模式时每次我们修改代码后，webpack都会自动检测出并重新构建我们的项目，但是这时侯我们依然要手动动刷新页面，想要自动刷新页面我们还要使用"),a("a",{attrs:{href:"https://github.com/webpack/webpack-dev-server",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-dev-server 模块"),a("OutboundLink")],1)]),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),a("p",[t._v("当使用"),a("code",[t._v("webapck-dev-server")]),t._v("启动时，它自动启动"),a("code",[t._v("webpack")]),t._v("，并且"),a("code",[t._v("webpack")]),t._v("的监听模式会被开启，当webpack监听到文件变化后，会通知"),a("code",[t._v("webapck-dev-server")]),t._v("模块，"),a("code",[t._v("webapck-dev-server")]),t._v("模块会去刷新浏览器。"),a("code",[t._v("webapck-dev-server")]),t._v("启动时默认会在"),a("code",[t._v("8080")]),t._v("端口上"),a("a",{attrs:{href:"http://localhost:8080",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:8080"),a("OutboundLink")],1),t._v("，此外我们还可以在"),a("code",[t._v("webpack.config.js")]),t._v("中根据"),a("code",[t._v("devServer")]),t._v("字段来来配置"),a("code",[t._v("webapck-dev-server")])]),t._v(" "),t._m(13),a("p",[t._v("更多配置请查看"),a("a",{attrs:{href:"https://webpack.docschina.org/configuration/dev-server/#devserver",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网 开发中 server(devServer)"),a("OutboundLink")],1)]),t._v(" "),t._m(14),t._v(" "),a("p",[t._v("浏览器的自动刷新有三种方法：")]),t._v(" "),t._m(15),t._v(" "),a("p",[t._v("在"),a("code",[t._v("webpack")]),t._v("中"),a("code",[t._v("DevServer")]),t._v("支持后两种方法，第二种是DevServer默认采用的。如果想要了解具体原理查看"),a("a",{attrs:{href:"http://webpack.wuhaolin.cn/4%E4%BC%98%E5%8C%96/4-5%E4%BD%BF%E7%94%A8%E8%87%AA%E5%8A%A8%E5%88%B7%E6%96%B0.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("深入浅出webpack —— 使用自动刷新"),a("OutboundLink")],1)]),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),a("p",[t._v("模块热替换并不会刷新浏览器，他只时在检测我们代码有变化时，将变化的模块进行编译，然后在变化后的新模块替换浏览器中对应的旧模块。")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("需要知道的是当设置"),a("code",[t._v("hot")]),t._v("为"),a("code",[t._v("true")]),t._v("时，也会启动浏览器自动刷新，所以有时候你会看到当模块修改后，我使用的是模块热替换但是浏览器会是会刷新，具体原因可以看看这篇文章"),a("a",{attrs:{href:"http://webpack.wuhaolin.cn/4%E4%BC%98%E5%8C%96/4-6%E5%BC%80%E5%90%AF%E6%A8%A1%E5%9D%97%E7%83%AD%E6%9B%BF%E6%8D%A2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("深入浅出webpack —— 开启模块热替换"),a("OutboundLink")],1),t._v(", 当我们设置 "),a("code",[t._v("hotOnly")]),t._v("为"),a("code",[t._v("true")]),t._v("时，这时就只会开启模块热替换功能")])]),t._v(" "),t._m(21),t._v(" "),a("p",[t._v("上面我们说的是"),a("code",[t._v("webpack3.0+")]),t._v("中经常使用的服务器模块，"),a("code",[t._v("webpack4.0+")]),t._v("后，官方又出来一个"),a("a",{attrs:{href:"https://github.com/webpack-contrib/webpack-serve",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-serve"),a("OutboundLink")],1),t._v("，而且将来会有要取代"),a("code",[t._v("webpack-dev-server 模块")]),t._v("的趋势。"),a("a",{attrs:{href:"https://github.com/webpack/webpack-dev-server/issues/1493",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-dev-server issues"),a("OutboundLink")],1),t._v("，使用该模块需要知道的是：")]),t._v(" "),a("ul",[a("li",[t._v("该模块至少需要"),a("Badge",[t._v("Node.js v6.9.0")]),t._v("和"),a("Badge",[t._v("Webpack v4.0.0+")])],1),t._v(" "),a("li",[t._v("由于此模块利用本机 "),a("code",[t._v("WebSockets via webpack-hot-client")]),t._v("，因此使用该模块的浏览器需要支持"),a("code",[t._v("WebSocket")]),t._v("。这通常意味着特定浏览器的最后两个主要版本,来查看"),a("a",{attrs:{href:"https://caniuse.com/#feat=websockets",target:"_blank",rel:"noopener noreferrer"}},[t._v("支持webSocket的浏览器"),a("OutboundLink")],1)])]),t._v(" "),t._m(22),t._v(" "),t._m(23),a("p",[t._v("配置webpack-serve 也很简单，我们有四种配置方法")]),t._v(" "),t._m(24),t._v(" "),t._m(25),a("p",[t._v("更多的配置我们可以查看"),a("a",{attrs:{href:"https://github.com/webpack-contrib/webpack-serve",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-serve"),a("OutboundLink")],1),t._v("，"),a("code",[t._v("webpack-serve")]),t._v("启动后默认就是使用的热模块功能，也不需要像使用"),a("code",[t._v("webpack-dev-server")]),t._v(" 一样在使用"),a("code",[t._v("HotModuleReplacementPlugin")]),t._v("插件。")]),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),a("p",[a("a",{attrs:{href:"http://webpack.wuhaolin.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("深入浅出webpack —— 吴浩麟"),a("OutboundLink")],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"使用-devserver"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-devserver","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 DevServer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"实现自动刷新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实现自动刷新","aria-hidden":"true"}},[this._v("#")]),this._v(" 实现自动刷新")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以前在写页面的时候，我们每次修改完代码需要刷新浏览器才可以看到页面修改后的效果，为提高效率现在我们可以使用"),s("code",[this._v("DevServer")]),this._v(" 实现我们的效果。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"启动监听模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动监听模式","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动监听模式")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("执行"),s("code",[this._v("webpack --watch")]),this._v(" 命令")]),this._v(" "),s("li",[this._v("在配置文件中进行配置")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n watch"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 开启观察者模式")]),t._v("\n  watchOptions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("//对watch的配置")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// 不监听的文件")]),t._v("\n      ignored"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'node_modules'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("//当第一个文件更改，会在重新构建前增加延迟。这个选项允许 webpack ")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("//将这段时间内进行的任何其他更改都聚合到一次重新构建里")]),t._v("\n      aggregateTimout"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token number"}},[t._v("300")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// 每秒检查一次变动")]),t._v("\n      poll"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token number"}},[t._v("1000")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("使用观察者模式时每次我们修改代码后，"),a("code",[t._v("webpack")]),t._v("都会自动检测出并重新构建我们的项目。其实"),a("code",[t._v("webpack")]),t._v("在这里做的就是将我们文件最后一次修改时间记录了下来，并定时的去检测我们文件的修改时间，如果发现我们新的修改时间和我们的不一致就会自动去构建。另外"),a("code",[t._v("webpack")]),t._v("在执行的时候，我们是可以设置它长时间去检测一次（设置"),a("code",[t._v("poll")]),t._v("），并且检测出变化后，延迟多长时间去构建项目（设置"),a("code",[t._v("aggregateTimout")]),t._v("）。我们在开发项目时，建议将不不是经常改动的文件添加的"),a("code",[t._v("ignored")]),t._v("中，对其不进行监听来提高我们的监听性能。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"自动刷新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动刷新","aria-hidden":"true"}},[this._v("#")]),this._v(" 自动刷新")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 安装")]),t._v("\nnpm i "),a("span",{attrs:{class:"token operator"}},[t._v("-")]),a("span",{attrs:{class:"token constant"}},[t._v("D")]),t._v(" webapck"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("dev"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("server\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("然后我们可以启动"),s("code",[this._v("webapck-dev-server")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("npx webpack"),s("span",{attrs:{class:"token operator"}},[this._v("-")]),this._v("dev"),s("span",{attrs:{class:"token operator"}},[this._v("-")]),this._v("server\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当然我们也可以在"),s("code",[this._v("package.json")]),this._v("中添加启动命令")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 在`package.json`中添加启动命令")]),t._v("\n"),a("span",{attrs:{class:"token string"}},[t._v('"scripts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v('"start"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"npx webpack-dev-server"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 然后执行")]),t._v("\nnpm start\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  devServer"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 设置服务器从那个目录提供内容，默认当前")]),t._v("\n    contentBase"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("join")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'dist'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("//告知服务器，观察 devServer.contentBase 下的文件。")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("//文件修改后，会触发一次完整的页面重载")]),t._v("\n    watchContentBase"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("//一切服务都启用 gzip 压缩")]),t._v("\n    compress"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 刷新模式，false时启用iframe模式")]),t._v("\n    inline"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("//默认是 localhost。如果你希望服务器外部可访问设置'0.0.0.0'")]),t._v("\n    host"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'localhost'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    port"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("9000")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 启动端口默认8080")]),t._v("\n    hot"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 是否启动热模块替换,(启用下也会启用自动刷新)")]),t._v("\n    hotOnly"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 仅启动自动刷新")]),t._v("\n    proxy"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 设置请求代理")]),t._v("\n    open"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 启动后是否自动打开默认浏览器")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("//指定打开浏览器时的导航页面。")]),t._v("\n    openPage"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'/different/page'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("//当出现编译器错误或警告时，在浏览器中显示全屏覆盖层,默认false")]),t._v("\n    overlay"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("//允许浏览器使用本地 IP 打开。")]),t._v("\n    useLocalIp"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    watchOptions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 和watch模式下的相同")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"自动刷新原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动刷新原理","aria-hidden":"true"}},[this._v("#")]),this._v(" 自动刷新原理")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("借助浏览器扩展去通过浏览器提供的接口刷新。")]),t._v(" "),a("li",[t._v("往要开发的网页中注入代理客户端代码，通过代理客户端去刷新整个页面。")]),t._v(" "),a("li",[t._v("把要开发的网页装进一个 "),a("code",[t._v("iframe")]),t._v(" 中，通过刷新 "),a("code",[t._v("iframe")]),t._v(" 去看到最新效果。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"实现模块热替换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实现模块热替换","aria-hidden":"true"}},[this._v("#")]),this._v(" 实现模块热替换")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("上边我们使用"),s("code",[this._v("webapck-dev-server")]),this._v("模块自动刷新浏览器来实现我们实时预览的效果，处理自动刷新我们还可以使用模块热替换的方法来实现我们实时预览的效果。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("模块热替换的方法的实现非常简单，它也集成在了"),s("code",[this._v("webpack-dev-server")]),this._v("中，我们可以通过下面两种方法来实现：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("执行命令"),a("code",[t._v("npx webpack-dev-server --hot")])]),t._v(" "),a("li",[a("code",[t._v("webpack.config.js")]),t._v("中配置"),a("code",[t._v("DevServer")]),t._v(" 启用，同时还要使用"),a("code",[t._v("webpack.HotModuleReplacementPlugin")]),t._v(" 插件（在方法一种执行时，以及自动注入并使用了该插件）。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" webpack "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'webpack'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" HotModuleReplacementPlugin "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" webpack"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HotModuleReplacementPlugin\n\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  devServer"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 是否启动热模块替换, 默认关闭(启用下也会启用自动刷新)")]),t._v("\n    hot"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n       "),a("span",{attrs:{class:"token comment"}},[t._v("// 模块热替换")]),t._v("\n       "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("HotModuleReplacementPlugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"webpack-serve-已废弃"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-serve-已废弃","aria-hidden":"true"}},[this._v("#")]),this._v(" webpack-serve 已废弃")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用"),s("code",[this._v("webpack-serve")]),this._v("也很简单，首先先让我们安装它")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[this._v("npm i "),s("span",{attrs:{class:"token operator"}},[this._v("-")]),s("span",{attrs:{class:"token constant"}},[this._v("D")]),this._v(" webpack"),s("span",{attrs:{class:"token operator"}},[this._v("-")]),this._v("serve\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("在"),a("code",[t._v("serve")]),t._v("属性中的"),a("code",[t._v("package.json")]),t._v("文件中")]),t._v(" "),a("li",[t._v("在一个"),a("code",[t._v(".serverc")]),t._v("或"),a("code",[t._v(".serverc.json")]),t._v("文件中，使用"),a("code",[t._v("JSON")]),t._v("或"),a("code",[t._v("YML")]),t._v("。")]),t._v(" "),a("li",[t._v("在"),a("code",[t._v("serve.config.js")]),t._v("导出"),a("code",[t._v("CommonJS")]),t._v("模块的文件中（就像"),a("code",[t._v("webpack")]),t._v("一样）")]),t._v(" "),a("li",[t._v("在"),a("code",[t._v("webpack.config.js")]),t._v("中的"),a("code",[t._v("serve")]),t._v("字段中配置，如下：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  serve"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       port"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("'9090'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       host"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 启动的主机地址")]),t._v("\n       open"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("//是否自动打开浏览器")]),t._v("\n       clipboard"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("//是否将服务器URI复制到剪贴板")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("另外"),s("code",[this._v("webpack-serve")]),this._v("的配置目前并没有像"),s("code",[this._v("webpack-dev-server")]),this._v("有很全的配置，将来什么样我们可以时刻关注。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"本文参考文献"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本文参考文献","aria-hidden":"true"}},[this._v("#")]),this._v(" 本文参考文献")])}],!1,null,null,null);n.options.__file="devserver.md";s.default=n.exports}}]);