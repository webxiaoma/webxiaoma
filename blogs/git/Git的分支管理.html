<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git的分支管理 | 马新想个人网站（webxiaoma）</title>
    <meta name="description" content="本文主要讲述git的分支操作以及git的分支管理。">
    <link rel="icon" href="/img/icon.ico">
  <meta rel="keywords" content="马新想，webxiaoma, 马新想个人网站">
    <meta name="keywords" content="git分支, git, git初识，git原理教程">
    <link rel="preload" href="/assets/css/0.styles.39fbe732.css" as="style"><link rel="preload" href="/assets/js/app.57ba2032.js" as="script"><link rel="preload" href="/assets/js/6.df32b4f2.js" as="script"><link rel="prefetch" href="/assets/js/9.2e0d2fe0.js"><link rel="prefetch" href="/assets/js/2.541ddb8d.js"><link rel="prefetch" href="/assets/js/3.27c1bd43.js"><link rel="prefetch" href="/assets/js/4.a43b64b4.js"><link rel="prefetch" href="/assets/js/5.ae25cb65.js"><link rel="prefetch" href="/assets/js/7.13f8a246.js"><link rel="prefetch" href="/assets/js/8.96c18b6e.js"><link rel="prefetch" href="/assets/js/10.250f6a96.js"><link rel="prefetch" href="/assets/js/11.19875c99.js"><link rel="prefetch" href="/assets/js/12.a3196328.js"><link rel="prefetch" href="/assets/js/13.0afad265.js"><link rel="prefetch" href="/assets/js/14.9b26ca35.js"><link rel="prefetch" href="/assets/js/15.e2945067.js"><link rel="prefetch" href="/assets/js/16.cdc52b37.js"><link rel="prefetch" href="/assets/js/17.a03f7c10.js"><link rel="prefetch" href="/assets/js/18.f06ade7a.js"><link rel="prefetch" href="/assets/js/19.f0f7eec9.js"><link rel="prefetch" href="/assets/js/20.ae5be8e9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.39fbe732.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/manong.jpg" alt="马新想" class="logo"> <span class="site-name can-hide">马新想个人网站</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide" data-v-39e1d899><ul role="menubar" class="el-menu-demo el-menu--horizontal el-menu" style="background-color:;" data-v-39e1d899><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        首页
        <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-39e1d899><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        博客
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
        JavaScript
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-39e1d899><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          构建工具
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
          Webpack打包
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
          Git工具
           <!----></li></ul></div></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        
        <a href="https://github.com/webxiaoma" target="_blank" style="padding-bottom:5px;" data-v-39e1d899>GitHub</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        
        <a href="https://webxiaoma.github.io/webxiaoma" target="_blank" style="padding-bottom:5px;" data-v-39e1d899>旧网站</a></li></ul></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar" data-v-5534fc3a><nav class="nav-links" data-v-39e1d899 data-v-5534fc3a><ul role="menubar" class="el-menu-demo el-menu--horizontal el-menu" style="background-color:;" data-v-39e1d899><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        首页
        <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-39e1d899><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        博客
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
        JavaScript
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-39e1d899><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          构建工具
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
          Webpack打包
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-39e1d899>
          Git工具
           <!----></li></ul></div></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        
        <a href="https://github.com/webxiaoma" target="_blank" style="padding-bottom:5px;" data-v-39e1d899>GitHub</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-39e1d899>
        
        <a href="https://webxiaoma.github.io/webxiaoma" target="_blank" style="padding-bottom:5px;" data-v-39e1d899>旧网站</a></li></ul></nav>  <ul class="sidebar-links" data-v-5534fc3a><li data-v-5534fc3a><a href="/git/" class="sidebar-link" data-v-5534fc3a>GIT 初识</a></li><li data-v-5534fc3a><a href="/git/Git的基本操作.html" class="sidebar-link" data-v-5534fc3a>Git的基础操作</a></li><li data-v-5534fc3a><a href="/git/Git的远程操作.html" class="sidebar-link" data-v-5534fc3a>Git的远程操作</a></li><li data-v-5534fc3a><a href="/git/Git的分支管理.html" class="active sidebar-link" data-v-5534fc3a>Git的分支管理</a><ul class="sidebar-sub-headers" data-v-5534fc3a data-v-5534fc3a><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#常用基础指令" class="sidebar-link" data-v-5534fc3a>常用基础指令</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#git版本" class="sidebar-link" data-v-5534fc3a>Git版本</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#版本回退" class="sidebar-link" data-v-5534fc3a>版本回退</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#创建分支" class="sidebar-link" data-v-5534fc3a>创建分支</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#查看所有分支" class="sidebar-link" data-v-5534fc3a>查看所有分支</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#切换分支" class="sidebar-link" data-v-5534fc3a>切换分支</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#合并分支" class="sidebar-link" data-v-5534fc3a>合并分支</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#删除分支" class="sidebar-link" data-v-5534fc3a>删除分支</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#远程分支操作" class="sidebar-link" data-v-5534fc3a>远程分支操作</a><ul class="sidebar-sub-headers" data-v-5534fc3a data-v-5534fc3a><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#_1-将本地分支推送到远程" class="sidebar-link" data-v-5534fc3a>1. 将本地分支推送到远程</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#_2-将远程分支下载到本地" class="sidebar-link" data-v-5534fc3a>2. 将远程分支下载到本地</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#_3-克隆远程的指定分支" class="sidebar-link" data-v-5534fc3a>3. 克隆远程的指定分支</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#_4-查看远程分支" class="sidebar-link" data-v-5534fc3a>4. 查看远程分支</a></li><li class="sidebar-sub-header" data-v-5534fc3a data-v-5534fc3a><a href="/git/Git的分支管理.html#_5-删除远程分支" class="sidebar-link" data-v-5534fc3a>5. 删除远程分支</a></li></ul></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="git的分支管理"><a href="#git的分支管理" aria-hidden="true" class="header-anchor">#</a> Git的分支管理</h1> <h2 id="常用基础指令"><a href="#常用基础指令" aria-hidden="true" class="header-anchor">#</a> 常用基础指令</h2> <div class="tip custom-block"><p class="custom-block-title">本章命令</p> <ul><li><code>git checkout -b 分支名</code>   创建新分支</li> <li><code>git checkout 分支名</code>  切换分支</li> <li><code>git branch</code> 查看本地分支</li> <li><code>git branch -r</code> 查看远程分支</li> <li><code>git reset --hard HEAD/commitId</code> 切换分支版本</li> <li><code>git log [--pretty=oneline]</code> 查看提交历史记录,可选参数<code>--pretty=oneline</code></li> <li><code>git merge [-m '备注' --no-ff] 分支名</code> 合并分支（默认以<code>Fast-forwar</code> 模式合并）</li> <li><code>git push -u origin 分支名</code> 关联远程分支</li> <li><code>git push origin --delete 分支名</code> 删除指定远程分支（或使用<code>git push origin :分支名</code>）</li></ul></div> <p>说到<code>git</code>分支，没有接触过的人肯定会问什么是分支。这里我们来大致的说一下，其实分支类似于将你的项目拷贝了一份，我们在拷贝的那一份上进行项目的开发。就好比一开始我们公司有一个项目，公司来了个两个新人小王和小李，他们俩在开发这个项目时，怕把原来的项目搞坏，就没人复制了一分项目，在自己复制的项目上进行开发，这时，这两份项目就相当于两个分支，而公司原来的项目就相当于主分支。当在进来新人小牛时，小牛又在小王那份项目上复制了一份项目进行开发，而这时，复制的项目就相当于小王那个项目的一个分支，最后项目开发完成时我们将我们的项目合并到了一起，就完成了我们项目的开发。</p> <h2 id="git版本"><a href="#git版本" aria-hidden="true" class="header-anchor">#</a> Git版本</h2> <p>在git中，我们新创建的项目就会存在一个分支，这个分支就叫主分支 <code>master 分支</code>，分支记录着我们每次提交项目的记录，这些提交记录连接起来就是一条时间线（版本线）。我们一般在开发项目时，会创建出另一个分支，在该分支上创建项目。现在我们来熟悉一下操作分支的一些命令，在创建分支前我们来了解一下<code>git</code>的版本。</p> <p>g例如我们初始化一个<code>git</code>仓库<code>project</code>，新创建的仓库默认是有一个<code>master</code>主分支的，并且<code>HEAD</code> 指针指向当前分支的当前版本（初始时也就是<code>master</code>分支）。我们在项目中新建一个<code>test.js</code> 文件,并将它提交。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 将test.js 文件添加到缓存区</span>
git add test<span class="token punctuation">.</span>js

<span class="token comment">// 提交缓存区的内容</span>
git commit <span class="token operator">-</span>m <span class="token string">'第一个版本'</span>
</code></pre></div><p>这时我们在<code>master</code>分支上就有了第一个项目版本，<code>master</code>分支应该是这样的:</p> <div class="logs" data-v-19768296><img src="/img/git-4-1.png" alt="" data-v-19768296></div> <p>当我们在创建一个 <code>two.js</code> 文件提交我们的修改后，<code>master</code>分支版本应该是这样的:</p> <div class="logs" data-v-19768296><img src="/img/git-4-2.png" alt="" data-v-19768296></div> <h2 id="版本回退"><a href="#版本回退" aria-hidden="true" class="header-anchor">#</a> 版本回退</h2> <p>通过上面操作我们可以知道，git每提交一次都会有生成一个版本，并且将<code>HEAD</code>指针指向当前分支下的最新版本。如果有一天我们想将我们的项目回退到上一个版本改怎么处理呢，这时我们可以使用命令<code>git reset --hard HEAD^</code> 或 <code>git reset --hard commitId</code>。在使用这个命令之前我们可以先使用<code>git log</code>来查看一下我们上面提交的历史记录</p> <div class="language-js extra-class"><pre class="language-js"><code>git log
</code></pre></div><p>我们可以看到输出结果</p> <div class="language-js extra-class"><pre class="language-js"><code>commit <span class="token function">fdc0fb441809ae6aca632e6dbe9f04f9640e21d2</span> <span class="token punctuation">(</span><span class="token constant">HEAD</span> <span class="token operator">-</span><span class="token operator">&gt;</span> master<span class="token punctuation">)</span>
Author<span class="token punctuation">:</span> webxiaoma <span class="token operator">&lt;</span>webxiaoma@qq<span class="token punctuation">.</span>com<span class="token operator">&gt;</span>
Date<span class="token punctuation">:</span>   Sun Aug <span class="token number">26</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">00</span> <span class="token number">2018</span> <span class="token operator">+</span><span class="token number">0800</span>

    第二个版本

commit <span class="token number">72</span>a53e7a41f456b3e22645618ebfff1fe3dce243
Author<span class="token punctuation">:</span> webxiaoma <span class="token operator">&lt;</span>webxiaoma@qq<span class="token punctuation">.</span>com<span class="token operator">&gt;</span>
Date<span class="token punctuation">:</span>   Sun Aug <span class="token number">26</span> <span class="token number">20</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">:</span><span class="token number">13</span> <span class="token number">2018</span> <span class="token operator">+</span><span class="token number">0800</span>

    第一个版本
</code></pre></div><p>我们可以看到我们两次的提交记录，里面包含时间，操作的<code>git</code>账号以及每次提交的 <code>commit id</code>，最近的一次提交展示在最上边。 另外我们先将这两个 <code>commit id</code>记下来，下面我们呢会使用到。此时我们的项目目录有第一个版本中创建的<code>test.js</code>和第二个版本时创建的<code>two.js</code>。接下来我们将我们的项目回退到第一个版本。</p> <div class="language-js extra-class"><pre class="language-js"><code>git reset <span class="token operator">--</span>hard <span class="token constant">HEAD</span><span class="token operator">^</span>
</code></pre></div><p>此时我们的项目已经会到了第一个版本，我们可以执行<code>git log</code> 查看版本记录，因为<code>git log</code>输出的内容太多，我们可以简化一下输出内容，我们可以执行<code>git log --pretty=oneline</code>，输出结果</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">72</span><span class="token function">a53e7a41f456b3e22645618ebfff1fe3dce243</span> <span class="token punctuation">(</span><span class="token constant">HEAD</span> <span class="token operator">-</span><span class="token operator">&gt;</span> master<span class="token punctuation">)</span> 第一个版本
</code></pre></div><p>可以看到只输出了我们一个版本的记录，并且我们可以查看一下我们的项目，现在只有<code>test.js</code> 文件，而<code>two.js</code> 文件已经不见了。此时我们的<code>master</code> 分支又成了第一版本的样子。</p> <div class="logs" data-v-19768296><img src="/img/git-4-1.png" alt="" data-v-19768296></div> <p>如果我们的项目已经有好几和版本了，我们想回退到上两个版本怎么弄，我们可以执行<code>git reset --hard HEAD^^</code>, 如果回退到上三个版本我们可以执行<code>git reset --hard HEAD^^^</code>, 我想你已经知道怎么会退到第四个版本了，<code>HEAD</code> 后面每加一个<code>^</code> 就是向上找一个版本的意思。如果我们还想从第一个版本回到第二个版本怎么弄，我们可以使用命令<code>git reset --hard commitId</code>, 这时就用到我们上面记下来的两个 <code>commitID</code> 中的第二个版本的<code>Id</code>了</p> <div class="language-js extra-class"><pre class="language-js"><code>git reset <span class="token operator">--</span>hard fdc0fb441809ae6aca632e6dbe9f04f9640e21d2
</code></pre></div><p>执行完，我们查看版本记录<code>git log</code>，可以看到我们当前版本是第二个版本，并且我们的项目中<code>two.js</code>文件又显示出来了。</p> <div class="logs" data-v-19768296><img src="/img/git-4-2.png" alt="" data-v-19768296></div> <p>当然我们可以使用命令<code>git reset --hard commitId</code>来跳到我们指定的<code>commitId</code>的任何版本，只要我们记住这个ID就可以任意切换。</p> <div class="tip custom-block"><p class="custom-block-title">小提示</p> <ul><li><p>这里因为<code>commitId</code> 太长我们可以只要截取一段就可以跳转到指定的版本了，而不用使用完整的<code>commitId</code></p></li> <li><p>如果我们想回到我们的原来版本，但是又忘记了原来版本的<code>commitID</code>，我们可以执行<code>git reflog</code> 来查看每次你使用git操作的版本记录，里面含有简化的<code>commitID</code>。</p></li></ul></div> <h2 id="创建分支"><a href="#创建分支" aria-hidden="true" class="header-anchor">#</a> 创建分支</h2> <p>在给 <code>git</code>中我们使用<code>git checkout -b 分支名</code> 来创建<code>git</code>的分支，并切换到创建的分支。比如我们在上边<code>master</code>分支的第二个版本的时候创建一个<code>dev</code>分支。</p> <div class="language-js extra-class"><pre class="language-js"><code>git checout <span class="token operator">-</span>b dev
</code></pre></div><p>这时我们就创建了一个和<code>master</code>项目一样的<code>dev</code>分支，我们可以从<code>git base</code> 中可以看到</p> <div class="logs" data-v-19768296><img src="/img/git-4-8.png" alt="" data-v-19768296></div> <p>这时我们的项目就有一个<code>master</code> 分支和 <code>dev</code> 分支了，并且<code>HEAD</code>指针指向当前的<code>dev</code>分支，其版本和<code>master</code>最新版本一样为第二个版本,我们可以用图来表示</p> <div class="logs" data-v-19768296><img src="/img/git-4-3.png" alt="" data-v-19768296></div> <h2 id="查看所有分支"><a href="#查看所有分支" aria-hidden="true" class="header-anchor">#</a> 查看所有分支</h2> <p>我们也可以使用<code>git branch</code> 来查看所有分支。</p> <div class="language-js extra-class"><pre class="language-js"><code>git branch

<span class="token comment">// 输出结果</span>
<span class="token operator">*</span> dev
  master
</code></pre></div><p>结果中带 <code>*</code> 号的代表当前所在的分支。我们可以在<code>dev</code>分支上创建一个<code>dev.js</code> 文件，并将它提交，然后我们查看版本提交记录</p> <div class="language-js extra-class"><pre class="language-js"><code>git add <span class="token punctuation">.</span>

git commit <span class="token operator">-</span>m <span class="token string">'dev的第三个版本'</span>

git log <span class="token operator">--</span>pretty<span class="token operator">=</span>oneline


<span class="token comment">// 输出结果</span>
<span class="token number">40703</span><span class="token function">dbf308315022cef120c28a90d130ad90a05</span> <span class="token punctuation">(</span><span class="token constant">HEAD</span> <span class="token operator">-</span><span class="token operator">&gt;</span> dev<span class="token punctuation">)</span> dev的第三个版本
<span class="token function">fdc0fb441809ae6aca632e6dbe9f04f9640e21d2</span> <span class="token punctuation">(</span>master<span class="token punctuation">)</span> 第二个版本
<span class="token number">72</span>a53e7a41f456b3e22645618ebfff1fe3dce243 第一个版本

</code></pre></div><p>我们可以看到这时<code>dev</code>分支就会有三个版本，而此时<code>master</code>分支还停留在第二个版本，他们的关系如图：</p> <div class="logs" data-v-19768296><img src="/img/git-4-4.png" alt="" data-v-19768296></div> <h2 id="切换分支"><a href="#切换分支" aria-hidden="true" class="header-anchor">#</a> 切换分支</h2> <p>我们可以使用<code>git checkout 分支名</code>将我们的项目切换到<code>master</code>分支，其实就是将<code>HEAD</code> 指针指向<code>master</code>分支。</p> <div class="language-js extra-class"><pre class="language-js"><code>git checkout master
</code></pre></div><p>此时我们可以看到，我么目录中创建的<code>dev.js</code> 消失了，因为这个文件是在我们的<code>dev</code>分支上，<code>master</code>分支上是不存在的。并且我们可以执行<code>git branch</code> 来查看当前所处分支。</p> <div class="language-js extra-class"><pre class="language-js"><code>  dev
<span class="token operator">*</span> master
</code></pre></div><p>可以看到，<code>*</code>号在<code>master</code>分支上，说明我们当前分支是<code>master</code>分支，并且他们的关系图如下：</p> <div class="logs" data-v-19768296><img src="/img/git-4-5.png" alt="" data-v-19768296></div> <h2 id="合并分支"><a href="#合并分支" aria-hidden="true" class="header-anchor">#</a> 合并分支</h2> <p>现在我们在<code>master</code> 分支上，并且master分支比<code>dev</code> 分支少一个版本，我们可以将<code>dev</code> 分支合并到<code>master</code> 分支上。这里使用<code>git merge 要合并进来的分支名</code> 命令</p> <div class="language-js extra-class"><pre class="language-js"><code>git merge dev


<span class="token comment">// 输出结果</span>
Updating fdc0fb4<span class="token punctuation">.</span><span class="token number">.40703</span>db
Fast<span class="token operator">-</span>forward
 dev<span class="token punctuation">.</span>js <span class="token operator">|</span> <span class="token number">0</span>
 <span class="token number">1</span> file changed<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token function">insertions</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token function">deletions</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> dev<span class="token punctuation">.</span>js
</code></pre></div><p>执行完，我们可以看到我们文件夹中出现了<code>dev.js</code> 文件，这时我们<code>master</code>版本和<code>dev</code>分支的最新版本就一样了，此时我们<code>HEAD</code>指针就指向了<code>master</code>分支的第三个版本上边</p> <div class="logs" data-v-19768296><img src="/img/git-4-6.png" alt="" data-v-19768296></div> <p>另外我们可以看到我们合并后输出的结果中使用的<code>Fast-forwar</code> 模式合并，此合并方式不会创造一个新的<code>commitID</code>(或commit节点)，而是使用<code>dev</code>的<code>commit</code>节点。默认情况下，<code>git merge</code>采用<code>fast-forward</code>模式。我们来看一下的提交版本记录:</p> <div class="language-js extra-class"><pre class="language-js"><code>git log <span class="token operator">--</span>pretty<span class="token operator">=</span>oneline


<span class="token comment">// 结果</span>
<span class="token number">40703</span><span class="token function">dbf308315022cef120c28a90d130ad90a05</span> <span class="token punctuation">(</span><span class="token constant">HEAD</span> <span class="token operator">-</span><span class="token operator">&gt;</span> dev<span class="token punctuation">,</span> master<span class="token punctuation">)</span> dev的第三个版本
fdc0fb441809ae6aca632e6dbe9f04f9640e21d2 第二个版本
<span class="token number">72</span>a53e7a41f456b3e22645618ebfff1fe3dce243 第一个版本
</code></pre></div><p>我们可以发现合并后的提交版本记录的信息和上面我们为合并时输出的提交版本记录的信息是一模一样的。那我们有没有办法合并分支时不使用<code>Fast-forwar</code> 模式，当然有，我么在合并分支时可以添加<code>--no-ff</code> 参数这里的<code>ff</code>就是<code>Fast-forwar</code> 模式的缩写，并且我们还可以添加<code>master</code>的提交备注, 结果命令就是这样<code>git merge -m '备注' --no-ff 分支名</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 首先我们将master分支回退到第二个版本</span>
git reset <span class="token operator">--</span>hard <span class="token constant">HEAD</span><span class="token operator">^</span>

<span class="token comment">// 不使用`Fast-forwar` 模式合并dev到master分支</span>
git merge <span class="token operator">-</span>m <span class="token string">'master 的第三个版本'</span> <span class="token operator">--</span>no<span class="token operator">-</span>ff dev


<span class="token comment">// 输出结果</span>
<span class="token number">3363</span><span class="token function">f4dcf86b311f7843f5c7191a202b8e17dc5f</span> <span class="token punctuation">(</span><span class="token constant">HEAD</span> <span class="token operator">-</span><span class="token operator">&gt;</span> master<span class="token punctuation">)</span> master 的第三个版本
<span class="token number">40703</span><span class="token function">dbf308315022cef120c28a90d130ad90a05</span> <span class="token punctuation">(</span>dev<span class="token punctuation">)</span> dev的第三个版本
fdc0fb441809ae6aca632e6dbe9f04f9640e21d2 第二个版本
<span class="token number">72</span>a53e7a41f456b3e22645618ebfff1fe3dce243 第一个版本
</code></pre></div><p>我们可以看到这次提交记录结果多出了一条，这条记录就是<code>master</code>分支合并时的提交记录，并且还有自己的备注。</p> <h2 id="删除分支"><a href="#删除分支" aria-hidden="true" class="header-anchor">#</a> 删除分支</h2> <p>我们可以使用命令<code>git branch -D 分支名</code> 来删除我们自定的分支，</p> <div class="language-js extra-class"><pre class="language-js"><code>git branch <span class="token operator">-</span><span class="token constant">D</span> dev
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p> <p>删除某个分支前，当前<code>HEAD</code>指针不要再该分支上，要切换到其它分支才可以删除。</p></div> <h2 id="远程分支操作"><a href="#远程分支操作" aria-hidden="true" class="header-anchor">#</a> 远程分支操作</h2> <p>如果我们本地新建了一个<code>dev</code> 分支怎么将该分支推送到远程呢，并且如果远程有一个<code>dev</code> 分支我们又该如何将该分支拉去下来呢。首先我们在以上边的的项目为例，我们要在远程有一个仓库</p> <h3 id="_1-将本地分支推送到远程"><a href="#_1-将本地分支推送到远程" aria-hidden="true" class="header-anchor">#</a> 1. 将本地分支推送到远程</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 将dev分支推送到远程</span>
git push origin dev
</code></pre></div><p>这时我们远程仓库就会出现一个<code>dev</code> 分支</p> <div class="logs" data-v-19768296><img src="/img/git-4-9.png" alt="" data-v-19768296></div> <p>这时我们只是将本地<code>dev</code> 分支推送到了远程，还用有将本地<code>dev</code> 分支和远程分支关联起来，如果这时我们修改dev分支上的文件，提交后，在执行<code>git push</code> 就会提示我们 <code>git push --set-upstream origin dev</code>, 我们可以执行该命令将本地的<code>dev</code> 分支和远程<code>dev</code>分支关联起来</p> <div class="language-js extra-class"><pre class="language-js"><code>git push <span class="token operator">--</span><span class="token keyword">set</span><span class="token operator">-</span>upstream origin dev
或
git push <span class="token operator">-</span>u origin dev
</code></pre></div><p>其实当前我们执行完上面其中一个代码时，就是在我们<code>.git</code> 目录下的<code>config</code> 文件下添加了一个远程分支记录</p> <div class="language- extra-class"><pre class="language-text"><code>[remote &quot;origin&quot;]
	url = git@github.com:webxiaoma/project.git
	fetch = +refs/heads/*:refs/remotes/origin/*
[branch &quot;master&quot;]
	remote = origin
	merge = refs/heads/master
[branch &quot;dev&quot;]
	remote = origin
	merge = refs/heads/dev
</code></pre></div><h3 id="_2-将远程分支下载到本地"><a href="#_2-将远程分支下载到本地" aria-hidden="true" class="header-anchor">#</a> 2. 将远程分支下载到本地</h3> <p>将远程分支下载我们本地我们可以将我们本地仓库删除来重新操作。</p> <div class="language-js extra-class"><pre class="language-js"><code>$ git clone git@github<span class="token punctuation">.</span>com<span class="token punctuation">:</span>webxiaoma<span class="token operator">/</span>project<span class="token punctuation">.</span>git
</code></pre></div><p>克隆下来的项目，默认只会克隆<code>master</code>分支，我们需要在将<code>dev</code> 分支克隆下来，使用命令<code>git checout -b 本地分支名 origin/远程分支名</code></p> <div class="language-js extra-class"><pre class="language-js"><code>git chekcout <span class="token operator">-</span>b dev origin<span class="token operator">/</span>dev
</code></pre></div><p>这时我们就创建了一个和远程关联的本地的<code>dev</code>分支，并且<code>.git</code> 目录下的<code>config</code> 文件中也生成了<code>dev</code>的分支记录，我们可以使用<code>git branch</code> 来查看分支。</p> <h3 id="_3-克隆远程的指定分支"><a href="#_3-克隆远程的指定分支" aria-hidden="true" class="header-anchor">#</a> 3. 克隆远程的指定分支</h3> <p>如果我们想克隆指定的分支我们可以使用这个命令<code>git clone -b 分支名 仓库地址</code></p> <div class="language-js extra-class"><pre class="language-js"><code>git cloen <span class="token operator">-</span>b dev  git@github<span class="token punctuation">.</span>com<span class="token punctuation">:</span>webxiaoma<span class="token operator">/</span>project<span class="token punctuation">.</span>git
</code></pre></div><p>这时克隆的只是我们远程仓库的<code>dev</code>分支。</p> <h3 id="_4-查看远程分支"><a href="#_4-查看远程分支" aria-hidden="true" class="header-anchor">#</a> 4. 查看远程分支</h3> <p>我们可以执行命令<code>git branch -r</code> 来查看远程分支</p> <div class="language-js extra-class"><pre class="language-js"><code>git branch <span class="token operator">-</span>r
</code></pre></div><h3 id="_5-删除远程分支"><a href="#_5-删除远程分支" aria-hidden="true" class="header-anchor">#</a> 5. 删除远程分支</h3> <p>如果我们想删除远程的某个分支我们可以使用<code>git push origin --delete 分支名</code> 或 <code>git push origin :分支名称</code></p> <div class="language-js extra-class"><pre class="language-js"><code>git push origin <span class="token operator">--</span><span class="token keyword">delete</span> dev
或
git push origin <span class="token punctuation">:</span>dev
</code></pre></div><p>这时我们在看远程仓库，<code>dev</code>分支就已经被删除了</p> <p>分支操作目前先讲的这里。</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新时间: </span> <span class="time">8/26/2018, 11:13:51 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/6.df32b4f2.js" defer></script><script src="/assets/js/app.57ba2032.js" defer></script>
  </body>
</html>
