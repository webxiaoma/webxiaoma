<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
           height: 90vh;
        }
    </style>
</head>
<body>
   

    
</body>
</html>

<script src="https://www.webrtc-experiment.com/Canvas-Designer/canvas-designer-widget.js"></script>

<!-- 2nd step -->
<script>
var designer = new CanvasDesigner();

// both links are mandatory
// widget.html will internally use widget.js
designer.widgetHtmlURL = 'https://www.webrtc-experiment.com/Canvas-Designer/widget.html'; // you can place this file anywhere
designer.widgetJsURL = 'https://www.webrtc-experiment.com/Canvas-Designer/widget.js';     // you can place this file anywhere


console.log(designer)
// websocket.onmessage = function(event) {
//     designer.syncData( JSON.parse(event.data) );
// };

designer.addSyncListener(function(data) {
    console.log(111,data)
    // designer.send(JSON.stringify(data));
    // websocket.send(JSON.stringify(data));
});

// designer.setSelected('pencil');

// designer.setTools({
//     pencil: true,
//     text: true
// });

// <iframe> will be appended to "document.body"
designer.appendTo(document.body || document.documentElement);




setTimeout(()=>{
    designer.renderStream();
    // 
    // var x = 0;
    // var y = 0;
    // var width = designer.iframe.clientWidth;
    // var height = designer.iframe.clientHeight;

    // var image = 'https://www.webrtc-experiment.com/images/RTCMultiConnection-STUN-TURN-usage.png';
    // var points = [
    //     ['image', [image, x, y, width, height, 1], ['2', '#6c96c8', 'rgba(0,0,0,0)', '1', 'source-over', 'round', 'round', '15px "Arial"']]
    // ];

    // designer.syncData({
    //     startIndex: 0,
    //     points: points
    // });
},1000)
</script>