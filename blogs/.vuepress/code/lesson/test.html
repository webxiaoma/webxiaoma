<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  
  <script>
  let resultObj = {
    S:[],
    XL:[]
  }

  let specList = [
    ["red","yellow"],
    ["XL","S"],
    ["a1","a2"],
    ["b1","b2"],
  ]

  function test(specList){
    let resultList = [];
    
    specList.forEach((item,index)=>{
      let ary = [];
      item.forEach((str)=>{
        if(index === 0){
          resultList.push(str);
        }else{
          resultList.forEach(ele=>{
              ary.push(
                `${ele}-${str}`
              )
          })
        }
      })
      if(index !== 0){
        resultList = ary;
      }
    
    })

    
    resultList.forEach(item=>{
      const flag = item.split("-")[1];
      resultObj[flag].push(item);
    })

    resultList = Object.values(resultObj).flat()

    console.log(resultList)

  }



  test(specList)
  </script>
</body>
</html>