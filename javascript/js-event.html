<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript之事件 | 马新想个人网站（webxiaoma）</title>
    <meta name="description" content="本文讲述js一些基础知识，事件代理和事件冒泡。">
    <link rel="icon" href="/img/icon.ico">
    <meta name="keywords" content="js, js 事件, js事件代理，事件冒泡">
    <link rel="preload" href="/assets/css/0.styles.0271ea14.css" as="style"><link rel="preload" href="/assets/js/app.510e21bd.js" as="script"><link rel="preload" href="/assets/js/45.2f50bc46.js" as="script"><link rel="prefetch" href="/assets/js/10.d348b77c.js"><link rel="prefetch" href="/assets/js/100.f35c2052.js"><link rel="prefetch" href="/assets/js/101.fe9e66aa.js"><link rel="prefetch" href="/assets/js/102.8cfeeff8.js"><link rel="prefetch" href="/assets/js/103.2f6c7f62.js"><link rel="prefetch" href="/assets/js/104.f5b1856d.js"><link rel="prefetch" href="/assets/js/105.1004bf66.js"><link rel="prefetch" href="/assets/js/106.91495825.js"><link rel="prefetch" href="/assets/js/107.a49bc073.js"><link rel="prefetch" href="/assets/js/108.34b9a477.js"><link rel="prefetch" href="/assets/js/109.135311f6.js"><link rel="prefetch" href="/assets/js/11.ce2789b5.js"><link rel="prefetch" href="/assets/js/110.2966033f.js"><link rel="prefetch" href="/assets/js/111.77ba9d12.js"><link rel="prefetch" href="/assets/js/112.cfeb1254.js"><link rel="prefetch" href="/assets/js/12.a4c8b8d5.js"><link rel="prefetch" href="/assets/js/13.7dc1ef16.js"><link rel="prefetch" href="/assets/js/14.32b45c9c.js"><link rel="prefetch" href="/assets/js/15.eba85e75.js"><link rel="prefetch" href="/assets/js/16.b3cab72d.js"><link rel="prefetch" href="/assets/js/17.0133b025.js"><link rel="prefetch" href="/assets/js/18.052c6017.js"><link rel="prefetch" href="/assets/js/19.3ea29de4.js"><link rel="prefetch" href="/assets/js/2.72e3aa26.js"><link rel="prefetch" href="/assets/js/20.877e7e74.js"><link rel="prefetch" href="/assets/js/21.057a8e9b.js"><link rel="prefetch" href="/assets/js/22.e609402e.js"><link rel="prefetch" href="/assets/js/23.7d6bd9cc.js"><link rel="prefetch" href="/assets/js/24.c047402f.js"><link rel="prefetch" href="/assets/js/25.bfea2377.js"><link rel="prefetch" href="/assets/js/26.29581cac.js"><link rel="prefetch" href="/assets/js/27.2bf0ec6d.js"><link rel="prefetch" href="/assets/js/28.c8683e65.js"><link rel="prefetch" href="/assets/js/29.606e25cf.js"><link rel="prefetch" href="/assets/js/3.421284ec.js"><link rel="prefetch" href="/assets/js/30.8284967a.js"><link rel="prefetch" href="/assets/js/31.8b0705f1.js"><link rel="prefetch" href="/assets/js/32.71f0a3c5.js"><link rel="prefetch" href="/assets/js/33.c1d9eef1.js"><link rel="prefetch" href="/assets/js/34.fee12a8e.js"><link rel="prefetch" href="/assets/js/35.028c8e2f.js"><link rel="prefetch" href="/assets/js/36.3b44e0d1.js"><link rel="prefetch" href="/assets/js/37.097f8033.js"><link rel="prefetch" href="/assets/js/38.49614d55.js"><link rel="prefetch" href="/assets/js/39.206b130f.js"><link rel="prefetch" href="/assets/js/4.43e18de0.js"><link rel="prefetch" href="/assets/js/40.bb43f100.js"><link rel="prefetch" href="/assets/js/41.3f53f8e5.js"><link rel="prefetch" href="/assets/js/42.5d225f43.js"><link rel="prefetch" href="/assets/js/43.20a74701.js"><link rel="prefetch" href="/assets/js/44.f4fbf593.js"><link rel="prefetch" href="/assets/js/46.00b72f89.js"><link rel="prefetch" href="/assets/js/47.b88e668e.js"><link rel="prefetch" href="/assets/js/48.1837c170.js"><link rel="prefetch" href="/assets/js/49.a5d85971.js"><link rel="prefetch" href="/assets/js/5.d203a18f.js"><link rel="prefetch" href="/assets/js/50.2ac7a780.js"><link rel="prefetch" href="/assets/js/51.c692a9da.js"><link rel="prefetch" href="/assets/js/52.977a56aa.js"><link rel="prefetch" href="/assets/js/53.25ad8d3a.js"><link rel="prefetch" href="/assets/js/54.6087cb6e.js"><link rel="prefetch" href="/assets/js/55.68656fb3.js"><link rel="prefetch" href="/assets/js/56.8752deb1.js"><link rel="prefetch" href="/assets/js/57.30a6b0df.js"><link rel="prefetch" href="/assets/js/58.4fc909f1.js"><link rel="prefetch" href="/assets/js/59.01668d88.js"><link rel="prefetch" href="/assets/js/6.ec2984d9.js"><link rel="prefetch" href="/assets/js/60.28d4f301.js"><link rel="prefetch" href="/assets/js/61.1be7f4ec.js"><link rel="prefetch" href="/assets/js/62.d0729839.js"><link rel="prefetch" href="/assets/js/63.a56d0e70.js"><link rel="prefetch" href="/assets/js/64.5e5e9cbf.js"><link rel="prefetch" href="/assets/js/65.149b398c.js"><link rel="prefetch" href="/assets/js/66.c8583191.js"><link rel="prefetch" href="/assets/js/67.f771facf.js"><link rel="prefetch" href="/assets/js/68.5df39cc4.js"><link rel="prefetch" href="/assets/js/69.5d736afe.js"><link rel="prefetch" href="/assets/js/7.faf3ccb9.js"><link rel="prefetch" href="/assets/js/70.cb2f6a7d.js"><link rel="prefetch" href="/assets/js/71.9acae64c.js"><link rel="prefetch" href="/assets/js/72.0f82f0df.js"><link rel="prefetch" href="/assets/js/73.983b0786.js"><link rel="prefetch" href="/assets/js/74.c8293f86.js"><link rel="prefetch" href="/assets/js/75.ff130f9e.js"><link rel="prefetch" href="/assets/js/76.e019807d.js"><link rel="prefetch" href="/assets/js/77.e2fa9bf9.js"><link rel="prefetch" href="/assets/js/78.ec829f90.js"><link rel="prefetch" href="/assets/js/79.87394c2d.js"><link rel="prefetch" href="/assets/js/8.93bb7c70.js"><link rel="prefetch" href="/assets/js/80.466a48f0.js"><link rel="prefetch" href="/assets/js/81.d8f53b90.js"><link rel="prefetch" href="/assets/js/82.0bf14c52.js"><link rel="prefetch" href="/assets/js/83.e2ec4965.js"><link rel="prefetch" href="/assets/js/84.7e5d8bf9.js"><link rel="prefetch" href="/assets/js/85.385ef904.js"><link rel="prefetch" href="/assets/js/86.4b78cc8f.js"><link rel="prefetch" href="/assets/js/87.bc578742.js"><link rel="prefetch" href="/assets/js/88.9c8c551e.js"><link rel="prefetch" href="/assets/js/89.8ced3858.js"><link rel="prefetch" href="/assets/js/9.6d63fe50.js"><link rel="prefetch" href="/assets/js/90.ff1f0bbd.js"><link rel="prefetch" href="/assets/js/91.39a6503b.js"><link rel="prefetch" href="/assets/js/92.4b7aa848.js"><link rel="prefetch" href="/assets/js/93.a7603772.js"><link rel="prefetch" href="/assets/js/94.f0e00673.js"><link rel="prefetch" href="/assets/js/95.07f63650.js"><link rel="prefetch" href="/assets/js/96.a0c87ed4.js"><link rel="prefetch" href="/assets/js/97.3140684f.js"><link rel="prefetch" href="/assets/js/98.6f041861.js"><link rel="prefetch" href="/assets/js/99.328e773b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0271ea14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/manong.jpg" alt="马新想" class="logo"> <span class="site-name can-hide">马新想个人网站</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide" data-v-70265b54><ul role="menubar" class="el-menu-demo el-menu--horizontal el-menu" style="background-color:;" data-v-70265b54><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-70265b54>
        首页
        <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        前端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          JavaScript
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          JavaScript
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          ECMAScript6
           <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        设计模式
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          移动端
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          H5页面开发
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          PWA应用
           <!----></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          前端工具
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          Webpack打包
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          Git版本工具
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          ESLint代码检测
           <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        Vue
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        React
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          前端插件
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          日历插件
           <!----></li></ul></div></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        后端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        Linux
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        NodeJS
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        
         <a href="http://localhost:8080/java-demos/docs/blogs/" target="_blank" style="display:block;line-height:35px;" data-v-70265b54>Java</a></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          数据库
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          MongoDB
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          
           <a href="https://webxiaoma.github.io/tools-docs/docs/blogs/database/mysql-install.html" target="_blank" style="display:block;line-height:35px;" data-v-70265b54>MySQL</a></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        网络知识
         <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-70265b54>
        
        <a href="https://webxiaoma.github.io/tools-docs/docs/blogs/index.html" target="_blank" style="display:block;line-height:35px;" data-v-70265b54>工具</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-70265b54>
        
        <a href="https://webwangjia.github.io/wechat-demo/docs/blogs/" target="_blank" style="display:block;line-height:35px;" data-v-70265b54>微信</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-70265b54>
        
        <a href="https://github.com/webxiaoma" target="_blank" style="display:block;line-height:35px;" data-v-70265b54>GitHub</a></li></ul></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar" data-v-5534fc3a><nav class="nav-links" data-v-70265b54 data-v-5534fc3a><ul role="menubar" class="el-menu-demo el-menu--horizontal el-menu" style="background-color:;" data-v-70265b54><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-70265b54>
        首页
        <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        前端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          JavaScript
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          JavaScript
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          ECMAScript6
           <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        设计模式
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          移动端
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          H5页面开发
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          PWA应用
           <!----></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          前端工具
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          Webpack打包
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          Git版本工具
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          ESLint代码检测
           <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        Vue
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        React
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          前端插件
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          日历插件
           <!----></li></ul></div></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        后端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        Linux
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        NodeJS
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        
         <a href="http://localhost:8080/java-demos/docs/blogs/" target="_blank" style="display:block;line-height:35px;" data-v-70265b54>Java</a></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-70265b54><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          数据库
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          MongoDB
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
          
           <a href="https://webxiaoma.github.io/tools-docs/docs/blogs/database/mysql-install.html" target="_blank" style="display:block;line-height:35px;" data-v-70265b54>MySQL</a></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-70265b54>
        网络知识
         <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-70265b54>
        
        <a href="https://webxiaoma.github.io/tools-docs/docs/blogs/index.html" target="_blank" style="display:block;line-height:35px;" data-v-70265b54>工具</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-70265b54>
        
        <a href="https://webwangjia.github.io/wechat-demo/docs/blogs/" target="_blank" style="display:block;line-height:35px;" data-v-70265b54>微信</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-70265b54>
        
        <a href="https://github.com/webxiaoma" target="_blank" style="display:block;line-height:35px;" data-v-70265b54>GitHub</a></li></ul></nav>  <ul class="sidebar-links" data-v-5534fc3a><li data-v-5534fc3a><a href="/javascript/" class="sidebar-link" data-v-5534fc3a>网站</a></li><li data-v-5534fc3a><div class="sidebar-group collapsable" data-v-5534fc3a><p class="sidebar-heading open"><span>JS常见知识</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/javascript/js-bom.html" class="sidebar-link">JS BOM操作</a></li><li><a href="/javascript/js-dom.html" class="sidebar-link">JS DOM操作</a></li><li><a href="/javascript/js-event.html" class="active sidebar-link">JavaScript之事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/js-event.html#什么是js事件" class="sidebar-link">什么是js事件</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#html-中触发js的几种方法" class="sidebar-link">HTML 中触发js的几种方法</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#js-常用的事件" class="sidebar-link">js 常用的事件</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#事件（合成）对象event" class="sidebar-link">事件（合成）对象Event</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/js-event.html#_1-获取-键盘按键信息" class="sidebar-link">1. 获取 键盘按键信息</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#_2-获取鼠标位置" class="sidebar-link">2. 获取鼠标位置</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#_3-获取鼠标按钮" class="sidebar-link">3. 获取鼠标按钮</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#事件的冒泡和捕获" class="sidebar-link">事件的冒泡和捕获</a></li><li class="sidebar-sub-header"><a href="/javascript/js-event.html#js事件委托" class="sidebar-link">JS事件委托</a></li></ul></li><li><a href="/javascript/js-object.html" class="sidebar-link">JavaScript之面向对象</a></li><li><a href="/javascript/function.html" class="sidebar-link">JavaScript之函数</a></li><li><a href="/javascript/prototype-proto.html" class="sidebar-link">JavaScript之原型与原型链</a></li><li><a href="/javascript/execution-contexts.html" class="sidebar-link">JavaScript之执行上下文</a></li><li><a href="/javascript/variable-object.html" class="sidebar-link">JavaScript之变量对象</a></li><li><a href="/javascript/scope-chain.html" class="sidebar-link">JavaScript之作用域和作用域链</a></li><li><a href="/javascript/this-1.html" class="sidebar-link">JavaScript之This（一）</a></li><li><a href="/javascript/this.html" class="sidebar-link">JavaScript之This（二）</a></li><li><a href="/javascript/closure.html" class="sidebar-link">JavaScript之闭包</a></li><li><a href="/javascript/trash-recycling.html" class="sidebar-link">JavaScript之垃圾回收机制</a></li><li><a href="/javascript/data-type.html" class="sidebar-link">JavaScript之基础类型和引用类型</a></li><li><a href="/javascript/new.html" class="sidebar-link">JavaScript之new操作符</a></li></ul></div></li><li data-v-5534fc3a><div class="sidebar-group collapsable" data-v-5534fc3a><p class="sidebar-heading"><span>ES6篇</span> <span class="arrow right"></span></p> <!----></div></li><li data-v-5534fc3a><div class="sidebar-group collapsable" data-v-5534fc3a><p class="sidebar-heading"><span>音频视频处理</span> <span class="arrow right"></span></p> <!----></div></li><li data-v-5534fc3a><div class="sidebar-group collapsable" data-v-5534fc3a><p class="sidebar-heading"><span>文件与二进制处理</span> <span class="arrow right"></span></p> <!----></div></li><li data-v-5534fc3a><div class="sidebar-group collapsable" data-v-5534fc3a><p class="sidebar-heading"><span>离线-缓存-存储</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="javascript之事件"><a href="#javascript之事件" class="header-anchor">#</a> JavaScript之事件</h1> <h2 id="什么是js事件"><a href="#什么是js事件" class="header-anchor">#</a> 什么是js事件</h2> <blockquote><p>事件是与浏览器或文档交互的瞬间，如点击按钮，填写表格等，它是JS与HTML之间交互的桥梁。</p></blockquote> <h2 id="html-中触发js的几种方法"><a href="#html-中触发js的几种方法" class="header-anchor">#</a> HTML 中触发js的几种方法</h2> <ol><li>第一种,直接在HTML 内嵌js</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>javascript:var a = 1+3; alert(a);<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>第二种</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fun()<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是第二种方法&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>第三种</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是第三种方法&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="4"><li>事件监听和移除</li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div3<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
     addEventListener  点击我
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">myFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;触发了&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>myFun<span class="token punctuation">)</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>myFun<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="js-常用的事件"><a href="#js-常用的事件" class="header-anchor">#</a> js 常用的事件</h2> <p><a href="http://www.runoob.com/jsref/dom-obj-event.html" target="_blank" rel="noopener noreferrer">js详细事件-见菜鸟教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>这里讲几个特殊事件：</p> <ul><li><p><code>onmouseenter</code>	当鼠标指针移动到元素上时触发。</p></li> <li><p><code>onmouseleave</code>	当鼠标指针移出元素时触发</p></li> <li><p><code>onmouseover</code>	鼠标移到某元素之上。</p></li> <li><p><code>onmouseout</code>	鼠标从某元素移开。</p></li></ul> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p><code>onmouseenter</code> 和 <code>onmouseover</code> 都是移动到元素上时触发，但是区别是<code>onmouseenter</code>移动到子元素上时也会再次触发并且还会再次冒泡到父元素，而<code>onmouseover</code> 只触发一次，当移动到元素的子元素时不会在有再触发也不会在冒泡,</p></div> <h2 id="事件（合成）对象event"><a href="#事件（合成）对象event" class="header-anchor">#</a> 事件（合成）对象Event</h2> <blockquote><p>Event 对象代表事件的状态，比如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态。</p></blockquote> <blockquote><p>事件通常与函数结合使用，函数不会在事件发生前被执行！</p></blockquote> <p>Event 对象 是在鼠标键盘事件触发时，注入到触发函数中的，以函数中第一个参数来表示。例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div1'</span><span class="token punctuation">)</span>
div1<span class="token punctuation">.</span><span class="token function-variable function">onmouseenter</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//event.target 获取到的是触发的事件源，这里只 id为 div1 的元素</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-获取-键盘按键信息"><a href="#_1-获取-键盘按键信息" class="header-anchor">#</a> 1. 获取 键盘按键信息</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 当键盘按键按下时会输出所按下的按钮名称</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-获取鼠标位置"><a href="#_2-获取鼠标位置" class="header-anchor">#</a> 2. 获取鼠标位置</h3> <p><strong>2.1 浏览器的可视坐标 clientX与clientY</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在浏览器中的X坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在浏览器中的Y坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>需要注意的是： 再给body添加事件时要给body设置高度，因为body默认高度为0</p> <p><strong>2.2 设备屏幕坐标 screenX与 screenY</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在设备屏幕中的X坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>screenX<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标所在设备屏幕中的Y坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>screenY<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>2.3 movementX 和 movementY 坐标轴</strong></p> <p><code>movementX</code> 和 <code>movementY</code> 鼠标位置是以鼠标进入元素时的x和y轴为初始坐标（0,0）, 向左x轴坐标为负值，向右x轴坐标为正值，向上y轴坐标为正值，向下为负值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
body<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标的X坐标：'</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>movementX<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标的Y坐标：'</span><span class="token operator">+</span> e<span class="token punctuation">.</span>movementY<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-获取鼠标按钮"><a href="#_3-获取鼠标按钮" class="header-anchor">#</a> 3. 获取鼠标按钮</h3> <p>在<code>onmousedown</code> 事件中我们可以通过 <code>event.button</code> 来获取鼠标按下的信息</p> <p>以webkit 内核的浏览器为例:</p> <div class="language-js extra-class"><pre class="language-js"><code>body<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标按下左键为(0)：&quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标按下滚轮键为(1)：&quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标按下右键为(2)：&quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>一般浏览器有默认行为，我们想阻止浏览器默认行为可以使用 <code>eventDefault()</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function-variable function">oncontextmenu</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   event<span class="token punctuation">.</span><span class="token function">eventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止浏览器出现右键菜单栏</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="事件的冒泡和捕获"><a href="#事件的冒泡和捕获" class="header-anchor">#</a> 事件的冒泡和捕获</h2> <blockquote><p>冒泡事件，由里向外，最里层的元素先执行，然后冒泡到外层。</p></blockquote> <blockquote><p>捕获事件，由外向里，最外层的元素先执行，然后传递到内部。</p></blockquote> <div class="language-HTML extra-class"><pre class="language-html"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>div2 我先冒泡后捕获<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    我先捕获后冒泡
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div1'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> div2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div2'</span><span class="token punctuation">)</span>

    div1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div1&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    div2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div2&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><ol><li>阻止事件冒泡可以使用 <code>stopPropagation()</code></li></ol> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>div2 我先冒泡后捕获<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    我先捕获后冒泡
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div1'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> div2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.div2'</span><span class="token punctuation">)</span>

    div1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div1&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    div2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止div2事件冒泡</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是div2&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="js事件委托"><a href="#js事件委托" class="header-anchor">#</a> JS事件委托</h2> <p>那什么叫事件委托呢？它还有一个名字叫事件代理，JavaScript高级程序设计上讲：事件委托就是利用事件冒泡，只指定一个事件处理程序，就可以管理某一类型的所有事件。下面我们来列举一个简单的例子来引出JS事件委托。</p> <p>现在我们有这样段代码</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>添加li标签<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>第一个<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>第二个<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>第三个<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>我们来给每个li标签添加一个点击事件，并弹出对应标签的内容</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> AllLi <span class="token operator">=</span> ul<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> oBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> iNow <span class="token operator">=</span> ３<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>AllLi<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    AllLi<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">click</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>innerText<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   iNow <span class="token operator">++</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> oLi <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   oLi<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span>　<span class="token string">&quot;第&quot;</span><span class="token operator">+</span>iNow<span class="token operator">+</span><span class="token string">&quot;个&quot;</span><span class="token punctuation">;</span>
   ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oLi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre></div><p>现在我们点击页面上的每个li标签都会弹出对应的内容，接下来我们点击按钮，新添加几个lｉ标签，然后我们点击新添加的li标签会发现没有任何反应。为什么没有反应呢，这是因为我们上面的方法只能够给页面中已经存在的元素添加事件，使用js后生成的元素时用这种方法是添加不上的。这时我们就要事件委托来处理这种情况了，当然我们还有其它方法，这里只是为了讲解事件委托。</p> <div class="tip custom-block"><p class="custom-block-title">原理</p> <p>事件委托是利用事件的冒泡原理来实现的，何为事件冒泡呢？就是事件从最深的节点开始，然后逐步向上传播事件，举个例子：页面上有这么一个节点树，div&gt;ul&gt;li&gt;a;比如给最里面的a加一个click点击事件，那么这个事件就会一层一层的往外执行，执行顺序a&gt;li&gt;ul&gt;div，有这样一个机制，那么我们给最外面的div加点击事件，那么里面的ul，li，a做点击事件的时候，都会冒泡到最外层的div上，所以都会触发，这就是事件委托，委托它们父级代为执行事件。</p></div> <p>接下来我们使用事件委托来重写js代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> oUl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> aLi <span class="token operator">=</span> oUl<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> oBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> iNow <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 
oUl<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> ev <span class="token operator">=</span> ev <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> ev<span class="token punctuation">.</span>target <span class="token operator">||</span> ev<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    iNow <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> oLi <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    oLi<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;第&quot;</span><span class="token operator">+</span>iNow<span class="token operator">+</span><span class="token string">&quot;个&quot;</span><span class="token punctuation">;</span>
    oUl<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oLi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/webxiaoma/webxiaoma/edit/dev/docs/javascript/js-event.md" target="_blank" rel="noopener noreferrer">文章有问题，欢迎提出！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最近更新时间: </span> <span class="time">1/9/2019, 2:21:42 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/javascript/js-dom.html" class="prev">
          JS DOM操作
        </a></span> <span class="next"><a href="/javascript/js-object.html">
          JavaScript之面向对象
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.510e21bd.js" defer></script><script src="/assets/js/45.2f50bc46.js" defer></script>
  </body>
</html>
