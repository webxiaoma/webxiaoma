<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js（ES6）中的函数 | 马新想个人网站（webxiaoma）</title>
    <meta name="description" content="本文讲述js中的函数已经es6中的箭头函数。">
    <link rel="icon" href="/img/icon.ico">
    <meta name="keywords" content="function, es6箭头函数, 函数，js函数，js 马新想">
    <link rel="preload" href="/assets/css/0.styles.d0698a8e.css" as="style"><link rel="preload" href="/assets/js/app.a865025b.js" as="script"><link rel="preload" href="/assets/js/28.00abebc5.js" as="script"><link rel="prefetch" href="/assets/js/37.b8429cde.js"><link rel="prefetch" href="/assets/js/2.eea0509a.js"><link rel="prefetch" href="/assets/js/3.d4d7a703.js"><link rel="prefetch" href="/assets/js/4.8018b03b.js"><link rel="prefetch" href="/assets/js/5.2a277261.js"><link rel="prefetch" href="/assets/js/6.a9a13ad2.js"><link rel="prefetch" href="/assets/js/7.63814670.js"><link rel="prefetch" href="/assets/js/8.81dc58a9.js"><link rel="prefetch" href="/assets/js/9.f11f8acd.js"><link rel="prefetch" href="/assets/js/10.7d4af58b.js"><link rel="prefetch" href="/assets/js/11.0c6265cc.js"><link rel="prefetch" href="/assets/js/12.fe2bd8d1.js"><link rel="prefetch" href="/assets/js/13.0c211a70.js"><link rel="prefetch" href="/assets/js/14.fa18bae1.js"><link rel="prefetch" href="/assets/js/15.47b9ceca.js"><link rel="prefetch" href="/assets/js/16.4cfda401.js"><link rel="prefetch" href="/assets/js/17.b84496c2.js"><link rel="prefetch" href="/assets/js/18.39db6b9c.js"><link rel="prefetch" href="/assets/js/19.110a6cbc.js"><link rel="prefetch" href="/assets/js/20.250e0767.js"><link rel="prefetch" href="/assets/js/21.8533e016.js"><link rel="prefetch" href="/assets/js/22.376f7b63.js"><link rel="prefetch" href="/assets/js/23.5e7dce30.js"><link rel="prefetch" href="/assets/js/24.084bc7e9.js"><link rel="prefetch" href="/assets/js/25.bb8d5a8b.js"><link rel="prefetch" href="/assets/js/26.e272e7ae.js"><link rel="prefetch" href="/assets/js/27.567758db.js"><link rel="prefetch" href="/assets/js/29.538fa845.js"><link rel="prefetch" href="/assets/js/30.fc285c94.js"><link rel="prefetch" href="/assets/js/31.5d298943.js"><link rel="prefetch" href="/assets/js/32.5485a81e.js"><link rel="prefetch" href="/assets/js/33.2471de5d.js"><link rel="prefetch" href="/assets/js/34.8ecbea3e.js"><link rel="prefetch" href="/assets/js/35.bc030519.js"><link rel="prefetch" href="/assets/js/36.257c9307.js"><link rel="prefetch" href="/assets/js/38.a53979b0.js"><link rel="prefetch" href="/assets/js/39.953ca5d3.js"><link rel="prefetch" href="/assets/js/40.79956970.js"><link rel="prefetch" href="/assets/js/41.21961b8b.js"><link rel="prefetch" href="/assets/js/42.1a83804f.js"><link rel="prefetch" href="/assets/js/43.aae116ec.js"><link rel="prefetch" href="/assets/js/44.c07d2e19.js"><link rel="prefetch" href="/assets/js/45.d32e730e.js"><link rel="prefetch" href="/assets/js/46.8f1d0012.js"><link rel="prefetch" href="/assets/js/47.fe185b28.js"><link rel="prefetch" href="/assets/js/48.14d4b970.js"><link rel="prefetch" href="/assets/js/49.4f22c709.js"><link rel="prefetch" href="/assets/js/50.6fddb599.js"><link rel="prefetch" href="/assets/js/51.d633edc8.js"><link rel="prefetch" href="/assets/js/52.5734711c.js"><link rel="prefetch" href="/assets/js/53.f6e15ffb.js"><link rel="prefetch" href="/assets/js/54.bd9ff9b3.js"><link rel="prefetch" href="/assets/js/55.c8377cf1.js"><link rel="prefetch" href="/assets/js/56.3a409f10.js"><link rel="prefetch" href="/assets/js/57.eefb8f23.js"><link rel="prefetch" href="/assets/js/58.2b0c3463.js"><link rel="prefetch" href="/assets/js/59.799745b9.js"><link rel="prefetch" href="/assets/js/60.3d359567.js"><link rel="prefetch" href="/assets/js/61.e9b9614f.js"><link rel="prefetch" href="/assets/js/62.c5ba55e7.js"><link rel="prefetch" href="/assets/js/63.ec136427.js"><link rel="prefetch" href="/assets/js/64.dbf072db.js"><link rel="prefetch" href="/assets/js/65.39bd361f.js"><link rel="prefetch" href="/assets/js/66.e7513dce.js"><link rel="prefetch" href="/assets/js/67.87f7cbe3.js"><link rel="prefetch" href="/assets/js/68.32145641.js"><link rel="prefetch" href="/assets/js/69.b1c5beca.js"><link rel="prefetch" href="/assets/js/70.97337a42.js"><link rel="prefetch" href="/assets/js/71.b47e05f5.js"><link rel="prefetch" href="/assets/js/72.76e9a1c1.js"><link rel="prefetch" href="/assets/js/73.d14571df.js"><link rel="prefetch" href="/assets/js/74.62698bd3.js"><link rel="prefetch" href="/assets/js/75.9fd0f1dd.js"><link rel="prefetch" href="/assets/js/76.0e2732ab.js"><link rel="prefetch" href="/assets/js/77.3dc7ad01.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d0698a8e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/manong.jpg" alt="马新想" class="logo"> <span class="site-name can-hide">马新想个人网站</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide" data-v-2b50ec5c><ul role="menubar" class="el-menu-demo el-menu--horizontal el-menu" style="background-color:;" data-v-2b50ec5c><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-2b50ec5c>
        首页
        <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-2b50ec5c><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        前端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
        JavaScript
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-2b50ec5c><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          移动端
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
          H5页面开发
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
          PWA应用
           <!----></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-2b50ec5c><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          构建工具
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
          Webpack打包
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
          Git工具
           <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
        Vue
         <!----></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-2b50ec5c><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        后端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
        Linux
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
        NodeJS
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
        网络知识
         <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-2b50ec5c>
        English
        <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-2b50ec5c>
        
        <a href="https://github.com/webxiaoma" target="_blank" style="padding-bottom:5px;" data-v-2b50ec5c>GitHub</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-2b50ec5c>
        
        <a href="https://github.com/webxiaoma/webxiaoma/issues" target="_blank" style="padding-bottom:5px;" data-v-2b50ec5c>提出疑问</a></li></ul></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar" data-v-5534fc3a><nav class="nav-links" data-v-2b50ec5c data-v-5534fc3a><ul role="menubar" class="el-menu-demo el-menu--horizontal el-menu" style="background-color:;" data-v-2b50ec5c><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-2b50ec5c>
        首页
        <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-2b50ec5c><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        前端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
        JavaScript
         <!----></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-2b50ec5c><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          移动端
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
          H5页面开发
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
          PWA应用
           <!----></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-2b50ec5c><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
          构建工具
        <i class="el-submenu__icon-arrow el-icon-arrow-right"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
          Webpack打包
           <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
          Git工具
           <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
        Vue
         <!----></li></ul></div></li><li role="menuitem" aria-haspopup="true" class="el-submenu" data-v-2b50ec5c><div class="el-submenu__title" style="border-bottom-color:transparent;color:;background-color:;">
        后端
      <i class="el-submenu__icon-arrow el-icon-arrow-down"></i></div><div class="el-menu--horizontal" style="display:none;"><ul role="menu" class="el-menu el-menu--popup el-menu--popup-" style="background-color:;"> <li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
        Linux
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
        NodeJS
         <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;background-color:;" data-v-2b50ec5c>
        网络知识
         <!----></li></ul></div></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-2b50ec5c>
        English
        <!----></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-2b50ec5c>
        
        <a href="https://github.com/webxiaoma" target="_blank" style="padding-bottom:5px;" data-v-2b50ec5c>GitHub</a></li><li role="menuitem" tabindex="-1" class="el-menu-item" style="color:;border-bottom-color:transparent;background-color:;" data-v-2b50ec5c>
        
        <a href="https://github.com/webxiaoma/webxiaoma/issues" target="_blank" style="padding-bottom:5px;" data-v-2b50ec5c>提出疑问</a></li></ul></nav>  <ul class="sidebar-links" data-v-5534fc3a><li data-v-5534fc3a><a href="/javascript/" class="sidebar-link" data-v-5534fc3a>网站</a></li><li data-v-5534fc3a><div class="sidebar-group collapsable" data-v-5534fc3a><p class="sidebar-heading open"><span>JS常见知识</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/javascript/JS-DOM操作.html" class="sidebar-link">JS DOM操作</a></li><li><a href="/javascript/JS-BOM操作.html" class="sidebar-link">JS BOM操作</a></li><li><a href="/javascript/JS-事件.html" class="sidebar-link">JS-事件</a></li><li><a href="/javascript/js面向对象.html" class="sidebar-link">JS 面向对象</a></li><li><a href="/javascript/function.html" class="active sidebar-link">js（ES6）中的函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/function.html#什么是函数" class="sidebar-link">什么是函数</a></li><li class="sidebar-sub-header"><a href="/javascript/function.html#函数类型" class="sidebar-link">函数类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/function.html#函数声明" class="sidebar-link">函数声明</a></li><li class="sidebar-sub-header"><a href="/javascript/function.html#函数表达式" class="sidebar-link">函数表达式</a></li><li class="sidebar-sub-header"><a href="/javascript/function.html#函数构造器" class="sidebar-link">函数构造器</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/function.html#立即自执行函数" class="sidebar-link">立即自执行函数</a></li><li class="sidebar-sub-header"><a href="/javascript/function.html#函数的参数" class="sidebar-link">函数的参数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/function.html#es5中函数的参数" class="sidebar-link">ES5中函数的参数</a></li><li class="sidebar-sub-header"><a href="/javascript/function.html#es6中函数的参数" class="sidebar-link">ES6中函数的参数</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/function.html#箭头函数（es6" class="sidebar-link">箭头函数（ES6)</a></li><li class="sidebar-sub-header"><a href="/javascript/function.html#其他函数形式" class="sidebar-link">其他函数形式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/function.html#构造函数" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/javascript/function.html#递归函数" class="sidebar-link">递归函数</a></li><li class="sidebar-sub-header"><a href="/javascript/function.html#高阶函数" class="sidebar-link">高阶函数</a></li><li class="sidebar-sub-header"><a href="/javascript/function.html#柯里化函数" class="sidebar-link">柯里化函数</a></li></ul></li></ul></li></ul></div></li><li data-v-5534fc3a><div class="sidebar-group collapsable" data-v-5534fc3a><p class="sidebar-heading"><span>ES6篇</span> <span class="arrow right"></span></p> <!----></div></li><li data-v-5534fc3a><div class="sidebar-group collapsable" data-v-5534fc3a><p class="sidebar-heading"><span>音频视频处理</span> <span class="arrow right"></span></p> <!----></div></li><li data-v-5534fc3a><div class="sidebar-group collapsable" data-v-5534fc3a><p class="sidebar-heading"><span>文件与二进制处理</span> <span class="arrow right"></span></p> <!----></div></li><li data-v-5534fc3a><div class="sidebar-group collapsable" data-v-5534fc3a><p class="sidebar-heading"><span>离线-缓存-存储</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="js（es6）中的函数"><a href="#js（es6）中的函数" aria-hidden="true" class="header-anchor">#</a> js（ES6）中的函数</h1> <hr> <h2 id="什么是函数"><a href="#什么是函数" aria-hidden="true" class="header-anchor">#</a> 什么是函数</h2> <p>函数是由事件驱动的或者当它被调用时执行的可重复使用的代码块, 函数语法如下：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// es5函数</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span>arg2<span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token comment">// 要执行的代码块</span>
<span class="token punctuation">}</span>
<span class="token comment">// es6 箭头函数</span>
<span class="token keyword">let</span> <span class="token function-variable function">testFun</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">// 通过函数构造器创建的函数</span>
<span class="token keyword">var</span> fun3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">&quot;console.log(1111)&quot;</span><span class="token punctuation">)</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">警告</p> <p>对应函数构造器创建的函数我们这里强烈不推荐使用</p></div> <h2 id="函数类型"><a href="#函数类型" aria-hidden="true" class="header-anchor">#</a> 函数类型</h2> <h3 id="函数声明"><a href="#函数声明" aria-hidden="true" class="header-anchor">#</a> 函数声明</h3> <ul><li>有一个特定的名称（必须拥有函数名）</li> <li>在源码中的位置：要么处于程序级（Program level），要么处于其它函数的主体（FunctionBody）中</li> <li>在进入上下文阶段创建</li> <li>影响变量对象 （函数会提升，并且优先）</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p>上边的函数就是以函数声明方式创建的，有一个特定的名称<code>fun</code>，处于全局环境（程序级），在进入上下文阶段创建指的是程序开始运行时优先处理函数。影响变量对象可以看下面代码：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span> <span class="token comment">// 结果 fun函数。这里是因为函数提优先于同名变量提升（其实是覆盖了变量对象中的同名变量）</span>

<span class="token keyword">var</span> fun <span class="token operator">=</span> <span class="token number">111</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span> <span class="token comment">//111</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span> <span class="token comment">//fun 函数</span>
<span class="token keyword">var</span> fun <span class="token operator">=</span> <span class="token number">222</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span> <span class="token comment">//222</span>
</code></pre></div><p>虽然<code>var</code>声明的变量会被提升，但是如果<code>var</code>声明的变量和函数声明的名字相同时，我们在最上边访问时，会优先访问函数声明</p> <h3 id="函数表达式"><a href="#函数表达式" aria-hidden="true" class="header-anchor">#</a> 函数表达式</h3> <p>函数表达式具有以下特点：</p> <ul><li>在源码中须出现在表达式的位置</li> <li>有可选的名称</li> <li>不会影响变量对象</li> <li>在代码执行阶段创建</li></ul> <p>最典型的就是匿名函数就是一个函数表达式</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>函数表达式其实也可以拥有函数名的：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token operator">!</span><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 这也是函数表达式</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">重点</p> <p><strong>所以说函数表达式和函数声明最主要的判断依据是，看看函数主体<code>function</code> 最前边是否含有其它东西(主要指运算符)。</strong></p></div> <p>例如下面这些函数就是表达式：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// es6中的箭头函数，函数主体左侧有运算符 +</span>
<span class="token operator">+</span><span class="token keyword">function</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// es6中的箭头函数，函数主体左侧有运算符 ,</span>
<span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> 
<span class="token comment">// es6中的箭头函数，函数主体左侧有运算符 &amp;</span>
<span class="token operator">&amp;</span><span class="token keyword">function</span> <span class="token function">fun3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// es6中的箭头函数，函数主体左侧有运算符 (</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 函数主体左侧有运算符 :</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    fun<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// es6中的箭头函数，函数主体左侧有运算符=</span>
<span class="token keyword">let</span> <span class="token function-variable function">fun4</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>通过上面我们很容易区分什么是函数声明和函数表达式，并且也知道了<code>es6</code>中声明的箭头函数其实就是函数表达式，因为它符合函数表达式的一些特征。</p> <h3 id="函数构造器"><a href="#函数构造器" aria-hidden="true" class="header-anchor">#</a> 函数构造器</h3> <p>我们上面提到了，在实际开发中应该避免使用函数构造器，因为它很影响性能，因为需要解析这种语法两次。在第一次是解析常规的<code>ECMAScript</code>代码，第二次是解析传入构造函数中的字符串。这里我们只需要知道它即可。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> fun3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">&quot;arg1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;arg2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;console.log(arg1,arg2)&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>函数构造器创建的函数，可以接收任意的参数，只是最后一个参数永远是函数主体。</p> <h2 id="立即自执行函数"><a href="#立即自执行函数" aria-hidden="true" class="header-anchor">#</a> 立即自执行函数</h2> <p>程序一运行时，函数会立即自己调用自己的函数。常见的立即自执行函数：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>自执行函数还有没有其他的写法，其实是有的，我们只要知道立即自执行函数是怎么自调的就可以写出很多，他的特点就是小括号 <code>()</code> 左边只要是函数表达式，它就可以立即自调。
例如：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 1</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 1</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token operator">&amp;</span><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
   onsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">// 1</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="函数的参数"><a href="#函数的参数" aria-hidden="true" class="header-anchor">#</a> 函数的参数</h2> <p>参数在函数中是非常重要的，我们现在来看看<code>ES5</code>中函数的参数以及ES6中函数的参数的一些扩展</p> <h3 id="es5中函数的参数"><a href="#es5中函数的参数" aria-hidden="true" class="header-anchor">#</a> ES5中函数的参数</h3> <p>首先函数分为<code>形参</code>和<code>实参</code>：</p> <ul><li><strong>形参：</strong> 指的在定义函数时使用的参数，目的是用来接收调用该函数时传进来的实际参数,</li> <li><strong>实参：</strong> 指的是在调用时传递给函数的参数。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 这里的a,b，c就是形参</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 这里的1,2,3就是实参</span>
</code></pre></div><p>我们现在知道了参数可以在函数之间传递数据，我们看一下面两段代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token string">&quot;King&quot;</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span><span class="token number">23</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">funOne</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">{</span>
    arg<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">funOne</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// 输出什么</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span>
<span class="token keyword">function</span> <span class="token function">funTwo</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">{</span>
    arg <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">funTwo</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// 输出什么</span>
</code></pre></div><p>上面第一段代码会输出<code>10</code>,第二段代码会输出<code>hello world</code>。我们可以发现我们在两段代码中都对函数传入的参数进行了修改，但是第二段代码中修改函数的参数并没有起作用，这时我们需要知道函数的两种传参方式：</p> <ul><li><strong>引用传递：</strong> 形参实际是对实参的引用（即形参和实参的内存地址的指针都指向同一对象实体），当形参或实参某一个改变时，都会相互影响。</li> <li><strong>值传递：</strong> 值传递就是形参将实参的值复制了一份，两者相互独立互不影响。</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>一般情况下，当函数传递的实参为对象类型如<code>Array</code>、<code>Object</code>、<code>function</code>时，函数就会以<strong>引用传递</strong>的方式传递参数;当函数传递的参数为<code>String</code>、<code>Number</code>时，函数就会以<strong>值传递</strong>的方式传递参数</p></div> <p>说完函数的参数传递方式，我们来说一下函数中的<code>arguments</code>参数对象（es6箭头函数中不存在<code>arguments</code>对象）。函数中<code>arguments</code>对象是函数（非箭头函数）中都可用的局部变量，它是类数组对象，该对象中包含着一些函数参数(实参)和一些函数信息。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 或获取1,2,3</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>

<span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p>上面<code>arguments</code>对象中会包含所有传入的实参, 获取第一个参数可以使用<code>arguments[0]</code>，另外<code>arguments</code>中还含有下面属性</p> <ul><li><code>arguments.length</code> 指传入实参的长度。</li> <li><code>arguments.callee</code> 指向当前执行的函数, 在匿名函数的递归调用时常用到（下面讲到递归函数）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  sum<span class="token operator">++</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 递归调用自己</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>以前<code>arguments</code>对象中还有<code>caller</code>对象指向调用当前函数的函数。不过目前已废除，该对象移到<code>Function</code>对象上去了。可以这样使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun<span class="token punctuation">.</span>caller<span class="token punctuation">)</span> <span class="token comment">// 指向 f() 函数</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div> <h3 id="es6中函数的参数"><a href="#es6中函数的参数" aria-hidden="true" class="header-anchor">#</a> ES6中函数的参数</h3> <p><code>ES6</code>中函数的参数只是做了一些扩展，比如</p> <ol><li>增加了函数参数的默认值</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token comment">// underfind  1</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// es5中默认参数的方法</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> b <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>可以与es6中的解构赋值一起使用</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
   a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
   b<span class="token punctuation">:</span><span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token punctuation">,</span>b<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token comment">// 1 2</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
</code></pre></div><p>更多ES6的特性请访问<a href="http://es6.ruanyifeng.com/#docs/function" target="_blank" rel="noopener noreferrer">ESCMScript6 入门 —— 函数的扩展<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="箭头函数（es6"><a href="#箭头函数（es6" aria-hidden="true" class="header-anchor">#</a> 箭头函数（ES6)</h2> <p>在<code>es6</code>中函数可以写成箭头函数形式</p> <p>当函数只有一个参数时可以省略<code>()</code>，当函数有多个参数或没有参数时不可以省略</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 只有一个参数, 函数主体只有一条语句</span>
<span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> reg <span class="token operator">=&gt;</span> reg

<span class="token comment">// 等价于</span>
<span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> reg
<span class="token punctuation">}</span>

<span class="token comment">// 多个参数， 函数主体有多条语句</span>
<span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span>reg1<span class="token punctuation">,</span>reg2<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> sum <span class="token operator">=</span> reg1 <span class="token operator">+</span> reg2
    <span class="token keyword">return</span> sum
<span class="token punctuation">}</span>

<span class="token comment">// 等价于</span>
<span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>reg1<span class="token punctuation">,</span>reg2<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> sum <span class="token operator">=</span> reg1 <span class="token operator">+</span> reg2
    <span class="token keyword">return</span> sum
<span class="token punctuation">}</span>
</code></pre></div><p>箭头函数和<code>es5</code>中的函数除了书写不一样外，还有一下区别:</p> <ul><li>箭头函数体内的<code>this</code>对象，就是定义时所在的对象，而不是使用时所在的对象。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token function-variable function">fun2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span>fun<span class="token punctuation">,</span>
    b<span class="token punctuation">:</span>fun2<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// this 指向window</span>
obj<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// this 指向obj</span>
</code></pre></div><ul><li>不可以当作构造函数，也就是说，不可以使用<code>new</code>命令，否则会抛出一个错误。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">new</span> <span class="token class-name">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 会报错</span>
</code></pre></div><ul><li>不可以使用<code>arguments</code>对象，该对象在函数体内不存在。如果要用，可以用 <code>rest</code> 参数代替。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">let</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span> <span class="token comment">// arguments不存在，会报错</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment">//正确写法，使用rest参数</span>
 <span class="token keyword">let</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 4, 5]</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>不可以使用<code>yield</code>命令，因此箭头函数不能用作 <code>Generator</code> 函数。</li></ul> <h2 id="其他函数形式"><a href="#其他函数形式" aria-hidden="true" class="header-anchor">#</a> 其他函数形式</h2> <h3 id="构造函数"><a href="#构造函数" aria-hidden="true" class="header-anchor">#</a> 构造函数</h3> <p>在js中，通过<code>new</code>调用的函数，我们成该函数叫做构造函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;King&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// fun() 函数就是构造函数</span>
</code></pre></div><p>这里我们不去详细说构造函数，下来我们会单独去讨论。这里使用<code>new</code>创建出来的<code>f</code>对象继承了一个<code>constructor</code>属性，该属性指向创建对象的构造函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;King&quot;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// fun() 函数就是构造函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span> <span class="token comment">// 指函数fun</span>
</code></pre></div><h3 id="递归函数"><a href="#递归函数" aria-hidden="true" class="header-anchor">#</a> 递归函数</h3> <p>递归函数其实就是函数自己用自己，但并不会立即执行，而是需要触发的。我们来看看函数声明形式的递归调用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 函数声明形式的递归</span>
<span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    sum<span class="token operator">++</span> <span class="token comment">// sum++ 要写到fun()调用前边</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 调用限制条件</span>
        <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 自己调用自己</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 触发函数</span>
</code></pre></div><p>我们可以注意到，递归调用函数时我们经常要限制调用的条件，<strong>这里如果不限制调用条件，递归会进行下去，最终可能造成内存泄漏</strong></p> <p>另外对于匿名函数我们如何去实习递归，这里就要用到<code>arguments.callee</code>了。<code>arguments</code>对象是参数对象，在下面我们会对它进行讲解，该对象中有一个<code>callee</code>属性，该属性指向的是<strong>正被执行的函数对象</strong>, 我们可以使用该属性来递归调用函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 函数声明形式的递归</span>
<span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    sum<span class="token operator">++</span> <span class="token comment">// sum++ 要写到fun()调用前边</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 调用限制条件</span>
        arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 自己调用自己</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>需要注意的是在使用递归函数时一定要加上截止条件，防止内存泄漏。另外在上面代码中如果我们写出这样：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">}</span>
    sum<span class="token operator">++</span> <span class="token comment">// 放到了递归下边</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>这时会出现报错：</p> <div class="language- extra-class"><pre class="language-text"><code>Maximum call stack size exceeded
</code></pre></div></div> <h3 id="高阶函数"><a href="#高阶函数" aria-hidden="true" class="header-anchor">#</a> 高阶函数</h3> <p>什么是高阶函数，说通俗点就是一个函数接收另一个函数作为参数的函数就叫做高阶函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token comment">// arg参数是一个函数</span>
   <span class="token function">arg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;函数f&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>  <span class="token comment">// 函数fun被称为高阶函数</span>
</code></pre></div><p>通过上面的例子可以看出，函数<code>fun</code>接收了一个名为<code>f</code>的函数作为参数，这时<code>fun</code>函数就是高阶函数，我们平常开发中也经常使用高阶函数，比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//map函数接收一个函数为参数</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// reduce高阶函数</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//filter 高阶函数</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="柯里化函数"><a href="#柯里化函数" aria-hidden="true" class="header-anchor">#</a> 柯里化函数</h3> <p>柯里化通常也称部分求值，其含义是给函数分步传递参数，每次传递参数后部分应用参数，并返回一个更具体的函数接受剩下的参数，这中间可嵌套多层这样的接受部分参数函数，直至返回最后结果。因此柯里化的过程是逐步传参，逐步缩小函数的适用范围，逐步求解的过程。比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 普通函数</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>

<span class="token comment">// 转化成柯里化函数</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/webxiaoma/webxiaoma/edit/dev/docs/javascript/function.md" target="_blank" rel="noopener noreferrer">文章有问题，欢迎提出！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/javascript/js面向对象.html" class="prev">
          JS 面向对象
        </a></span> <span class="next"><a href="/javascript/babel.html">
          Babel的使用
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/28.00abebc5.js" defer></script><script src="/assets/js/app.a865025b.js" defer></script>
  </body>
</html>
