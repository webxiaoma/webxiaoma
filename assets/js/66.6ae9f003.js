(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{320:function(t,s,a){"use strict";a.r(s);var e=a(1),r=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/webxiaoma/phone-demo/tree/master/pwa",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub 仓库地址"),a("OutboundLink")],1)])]),t._v(" "),a("hr"),t._v(" "),t._m(1),t._v(" "),a("p",[a("a",{attrs:{href:"https://developers.google.com/web/progressive-web-apps/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Progressive Web Apps"),a("OutboundLink")],1),t._v(" 是 Google 提出的用前沿的 "),a("code",[t._v("Web")]),t._v(" 技术为网页提供 "),a("code",[t._v("App")]),t._v(" 般使用体验的一系列方案，说白了就是可以让我们的手机网站具有以下特点：")]),t._v(" "),a("ul",[t._m(2),t._v(" "),a("li",[a("strong",[t._v("后台加载")]),t._v("。往常的网页应用只要关闭了网页他的生命就结束了，现在引入了一个 "),a("router-link",{attrs:{to:"/javascript/service-worker.html"}},[t._v("Service Worker")]),t._v(" 的概念，即使网页关闭，"),a("code",[t._v("PWA")]),t._v(" 仍然可以在后台运行获取数据更新（当然有限制）。")],1),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5)]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),a("ul",[a("li",[a("p",[a("router-link",{attrs:{to:"/javascript/cache-api.html"}},[t._v("Cache API")]),t._v("， 该api可以创建一个缓存空间，让我们用来缓存页面数据，")],1)]),t._v(" "),a("li",[a("p",[a("router-link",{attrs:{to:"/javascript/service-worker.html"}},[t._v("Service Worker API")]),t._v("，可编程拦截代理请求配合"),a("code",[t._v("Cache API")]),t._v("实现离线缓存")],1)])]),t._v(" "),t._m(8),t._v(" "),a("p",[a("code",[t._v("manifest.json")]),t._v(" 配置文件在"),a("code",[t._v("pwa")]),t._v("中很重要，目前这个文件的支持度可以"),a("a",{attrs:{href:"https://caniuse.com/#search=manifest",target:"_blank",rel:"noopener noreferrer"}},[t._v("查看这里"),a("OutboundLink")],1),t._v("，我们来看看"),a("code",[t._v("manifest.json")]),t._v("配置文件。")]),t._v(" "),t._m(9),a("p",[t._v("需要知道的是:")]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/webxiaoma/phone-demo/tree/master/pwa",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub 仓库地址"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://webxiaoma.github.io/phone-demo/pwa/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PC 浏览地址——建议使用chorme57+"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("您也可以手机端查看（**建议使用chorme57+**查看效果）")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/softidea/p/6230565.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("说说 PWA 和微信小程序"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://lavas.baidu.com/pwa/README",target:"_blank",rel:"noopener noreferrer"}},[t._v("PWA 文档"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/SangKa/PWA-Book-CN",target:"_blank",rel:"noopener noreferrer"}},[t._v("面向下一代的Progressive Web APP"),a("OutboundLink")],1)])])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"pwa-应用初识"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pwa-应用初识","aria-hidden":"true"}},[this._v("#")]),this._v(" PWA 应用初识")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"什么是pwa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是pwa","aria-hidden":"true"}},[this._v("#")]),this._v(" 什么是PWA")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("strong",[this._v("消息推送")]),this._v("。用户只要允许，即使网页关闭后仍然可以在系统通知栏收到推送消息。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("strong",[this._v("离线使用")]),this._v("。"),s("code",[this._v("PWA")]),this._v(" 打开后会缓存一些内容，之后再次访问即使没有网络也可以浏览之前的页面（如同IE时代的离线浏览）。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("strong",[this._v("原生应用界面")]),this._v("。在某些情况下 "),s("code",[this._v("PWA")]),this._v(" 应用可以隐藏浏览器本身的所有视觉成分，光从UI和UX上看，很容易认为这就是一个原生界面。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("li",[a("strong",[t._v("桌面图标")]),t._v("。"),a("code",[t._v("PWA")]),t._v("只要配上一个图标，再放快捷方式在桌面上（比如一定时间内第二次访问PWA会自动询问是否添加快捷方式到桌面），就真的和原生系统无异了，打开的速度也很快（当然功能不能很庞大）。另一方面，和原生应用比，"),a("code",[t._v("PWA")]),t._v(" 又不需要用户安装，只需要浏览器支持 "),a("code",[t._v("PWA")]),t._v(" 就可以了。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"开发pwa的前期必会"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发pwa的前期必会","aria-hidden":"true"}},[this._v("#")]),this._v(" 开发PWA的前期必会")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("开发"),s("code",[this._v("PWA")]),this._v("之前你需要先了解一些知识：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"配置文件-manifest-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件-manifest-json","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置文件 manifest.json")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token property"}},[t._v('"name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"马新想的个人网站"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  //应用名称，用于安装横幅、启动画面显示\n"),a("span",{attrs:{class:"token property"}},[t._v('"short_name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"马新想"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  //应用短名称，用于主屏幕显示的名字\n"),a("span",{attrs:{class:"token property"}},[t._v('"icons"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  //应用图标列表，数组形式\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token property"}},[t._v('"src"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./img/mxx48.jpg"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  //图标 url\n        "),a("span",{attrs:{class:"token property"}},[t._v('"type"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"image/jpg"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   //图标的 mime 类型，非必填项，该字段可让浏览器快速忽略掉不支持的图标类型\n        "),a("span",{attrs:{class:"token property"}},[t._v('"sizes"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"48x48"')]),t._v("  //图标尺寸，以px为单位。\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token property"}},[t._v('"src"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./img/mxx72.jpg"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{attrs:{class:"token property"}},[t._v('"type"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"image/jpg"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{attrs:{class:"token property"}},[t._v('"sizes"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"72x72"')]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v('"scope"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v("'/'"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  // 设置作用域\n"),a("span",{attrs:{class:"token property"}},[t._v('"start_url"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"./index.html"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //应用启动页地址，必须在作用域范围内\n"),a("span",{attrs:{class:"token property"}},[t._v('"theme_color"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"#8888ff"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  //设置主题颜色(状态栏、内容页中状态栏、地址栏的颜色"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token property"}},[t._v('"background_color"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"#409EFF"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //设置启动画面的背景颜色。\n"),a("span",{attrs:{class:"token property"}},[t._v('"display"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"standalone"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //设置启动显示类型，有fullscreen，standalone，minimal-ui，browser\n"),a("span",{attrs:{class:"token property"}},[t._v('"orientation"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"landscape-primary"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //指定页面显示方向\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("1. 关于"),s("code",[this._v("display")]),this._v("属性设置启动显示类型：")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("显示类型")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("降级显示类型")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("fullscreen")]),t._v(" "),a("td",[t._v("应用的显示界面将占满整个屏幕")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("standalone")])]),t._v(" "),a("tr",[a("td",[t._v("standalone")]),t._v(" "),a("td",[t._v("浏览器相关UI（如导航栏、工具栏等）将会被隐藏")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("minimal-ui")])]),t._v(" "),a("tr",[a("td",[t._v("minimal-ui")]),t._v(" "),a("td",[t._v("显示形式与standalone类似，浏览器相关UI会最小化为一个按钮，不同浏览器在实现上略有不同")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("browser")])]),t._v(" "),a("tr",[a("td",[t._v("browser")]),t._v(" "),a("td",[t._v("浏览器模式，与普通网页在浏览器中打开的显示一致")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("(None)")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("2. 关于"),s("code",[this._v("theme_color")]),this._v("主题颜色")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("当页面的"),a("code",[t._v("display")]),t._v("处于"),a("code",[t._v("browser")]),t._v("值时，虽然设置了"),a("code",[t._v("theme_color")]),t._v("，地址栏也可能不会出现你设置的颜色，这时我们可以在页面中加入下面的"),a("code",[t._v("meta")]),t._v("标签")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("meta name"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"theme-color"')]),t._v(" content"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"green"')]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("3. 关于"),s("code",[this._v("orientation")]),this._v("指定页面显示方向")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("由于不同的设备的宽高比不同，因此对于“横屏”、“竖屏”不能简单地通过屏幕旋转角去定义。如对于手机来说，"),a("code",[t._v("90°")]),t._v(" 和 "),a("code",[t._v("270°")]),t._v(" 为横屏，而在某些平板电脑中，"),a("code",[t._v("0°")]),t._v(" 和 "),a("code",[t._v("180°")]),t._v(" 才是横屏。因此需要通过应用视窗去定义。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("当视窗宽度大于高度时，当前应用处于“横屏”状态。横屏分为两种角度，两者相位差为 "),a("code",[t._v("180°")]),t._v("，分别为 "),a("code",[t._v("landscape-primary")]),t._v(" 和 "),a("code",[t._v("landscape-secondary")]),t._v("。")]),t._v(" "),a("li",[t._v("当视窗宽度小于等于高度时，当前应用处于“竖屏”状态。同样，竖屏分为两种，两者相位差为 "),a("code",[t._v("180°")]),t._v("，分别为 "),a("code",[t._v("portrait-primary")]),t._v(" 和 "),a("code",[t._v("portrait-secondary")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("landscape")]),t._v(": 根据不同平台的规则，该值可等效于 "),a("code",[t._v("landscape-primary")]),t._v(" 或 "),a("code",[t._v("landscape-secondary")]),t._v("，或者根据当前屏幕旋转角不同，去自由切换 "),a("code",[t._v("landscape-primary")]),t._v(" 或 "),a("code",[t._v("landscape-secondary")]),t._v("；")]),t._v(" "),a("li",[a("code",[t._v("portrait")]),t._v(": 根据不同平台的规则，该值可等效于 "),a("code",[t._v("portrait-primary")]),t._v(" 或 "),a("code",[t._v("portrait-secondary")]),t._v("，或者根据当前屏幕旋转角不同，去自由切换 "),a("code",[t._v("portrait-primary")]),t._v(" 或 "),a("code",[t._v("portrait-secondary")]),t._v("；")]),t._v(" "),a("li",[a("code",[t._v("natural")]),t._v(": 根据不同平台的规则，该值可等效于 "),a("code",[t._v("portrait-primary")]),t._v(" 或 "),a("code",[t._v("landscape-primary")]),t._v("，即当前屏幕旋转角为"),a("code",[t._v("0°")]),t._v(" 时所对应的显示方向；")]),t._v(" "),a("li",[a("code",[t._v("any")]),t._v(": 根据屏幕旋转角自由切换 "),a("code",[t._v("landscape-primary")]),t._v("、"),a("code",[t._v("landscape-secondary")]),t._v("、"),a("code",[t._v("portrait-primary")]),t._v("、"),a("code",[t._v("portrait-secondary")]),t._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例","aria-hidden":"true"}},[this._v("#")]),this._v(" 实例")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("现在我们可以看一下使用"),s("code",[this._v("PWA")]),this._v("编写的页面：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"/img/pwa.png",alt:"pwa"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("参考文章")])])}],!1,null,null,null);r.options.__file="pwa.md";s.default=r.exports}}]);