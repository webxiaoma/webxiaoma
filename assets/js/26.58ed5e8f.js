(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{333:function(t,s,a){"use strict";a.r(s);var e=a(1),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2008/06/base64.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Base64笔记 by 阮一峰"),a("OutboundLink")],1)]),t._v(" "),a("hr"),t._v(" "),t._m(1),t._v(" "),a("p",[a("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Base64",target:"_blank",rel:"noopener noreferrer"}},[t._v("维基百科"),a("OutboundLink")],1),t._v(" 上定义Base64是一种基于64个可打印字符（可见字符）来表示二进制数据的表示方法。由于 2^6 =64 ，所以每6个比特为一个单元，对应某个可打印字符。3个字节有24个比特，对应于4个Base64单元，即3个字节可由4个可打印字符来表示。它可用来作为电子邮件的传输编码。在Base64中的可打印字符包括字母A-Z、a-z、数字0-9，这样共有62个字符，此外两个可打印符号在不同的系统中而不同。一些如uuencode的其他编码方法，和之后BinHex的版本使用不同的64字符集来代表6个二进制数字，但是不被称为Base64。")]),t._v(" "),a("p",[t._v('所谓Base64，就是说选出64个字符----小写字母a-z、大写字母A-Z、数字0-9、符号"+"、"/"（再加上作为垫字的"="，实际上是65个字符）----作为一个基本字符集。然后，其他所有符号都转换成这个字符集中的字符。')]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._m(10),t._v(" "),t._m(11),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("这里需要注意的是当字节数不足三个字节时，则这样处理：")]),t._v(" "),t._m(18),t._v(" "),a("p",[t._v('比如，"Ma"这个字符串是两个字节，可以转化成三组00010011、00010110、00010000以后，对应Base64值分别为T、W、E，再补上一个"="号，因此"Ma"的Base64编码就是TWE=。')]),t._v(" "),t._m(19),t._v(" "),a("p",[t._v('比如，"M"这个字母是一个字节，可以转化为二组00010011、00010000，对应的Base64值分别为T、Q，再补上二个"="号，因此"M"的Base64编码就是TQ==。')])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"base64处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#base64处理","aria-hidden":"true"}},[this._v("#")]),this._v(" base64处理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"一、base64定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、base64定义","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、base64定义")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"二、js中-base64格式的编码和解码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、js中-base64格式的编码和解码","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、js中 base64格式的编码和解码")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-btoa-转码-和-atob-解码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-btoa-转码-和-atob-解码","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. "),s("code",[this._v("btoa()")]),this._v("转码 和 "),s("code",[this._v("atob()")]),this._v(" 解码")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("js中提供了"),s("code",[this._v("btoa()")]),this._v("转码 和 "),s("code",[this._v("atob()")]),this._v(" 解码的方法处理 Base64格式")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("例如我们将 "),s("code",[this._v("http://webxiaoma.com/assets/images/manong.jpg")]),this._v(" 进行编码和解码")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" url "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"http://webxiaoma.com/assets/images/manong.jpg"')]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" btoaStr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("btoa")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 将url编码为Base64格式")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//aHR0cDovL3dlYnhpYW9tYS5jb20vYXNzZXRzL2ltYWdlcy9tYW5vbmcuanBn")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" atobStr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("atob")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("btoaStr"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("//将Base64格式解码")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//http://webxiaoma.com/assets/images/manong.jpg")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-btoa-转码-和-atob-解码的中文问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-btoa-转码-和-atob-解码的中文问题","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. "),s("code",[this._v("btoa()")]),this._v("转码 和 "),s("code",[this._v("atob()")]),this._v(" 解码的中文问题")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当我们要将中文编码为"),s("code",[this._v("Base64")]),this._v("格式后，在进行解码是会乱码，而在谷歌浏览器上在编码中文时会直接报错")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" url "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"你好"')]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" btoaStr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("btoa")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 在谷歌浏览器上报错")]),t._v("\n\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("我们这时需要借助 "),a("code",[t._v("encodeURIComponent")]),t._v(" 和 "),a("code",[t._v("decodeURIComponent")]),t._v(" 转义中文字符,这里是由于"),a("code",[t._v("btoa")]),t._v("仅支持 "),a("code",[t._v("A")]),t._v("SCII"),a("code",[t._v("字符序列，如果通过")]),t._v("encodeURIComponent` 将中文字符编码成ASCII字符序列，再通过 btoa 进行 base64 编码。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" url "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"你好"')]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" btoaStr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("encodeURIComponent")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("btoa")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("//编码: JUU0JUJEJUEwJUU1JUE1JUJE")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" atobStr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("decodeURIComponent")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("atob")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("btoaStr"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 解码: 你好")]),t._v("\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"三、base64编码的原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、base64编码的原理","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、Base64编码的原理")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("第一步，将每三个字节作为一组，一共是24个二进制位。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("第二步，将这24个二进制位分为四组，每个组有6个二进制位。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("第三步，在每组前面加两个00，扩展成32个二进制位，即四个字节。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("第四步，根据下表，得到扩展后的每个字节的对应符号，这就是Base64的编码值。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://webxiaoma.github.io/img/biao.jpg",alt:"Base64索引表"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v('二个字节的情况：将这二个字节的一共16个二进制位，按照上面的规则，转成三组，最后一组除了前面加两个0以外，后面也要加两个0。这样得到一个三位的Base64编码，再在末尾补上一个"="号。')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v('一个字节的情况：将这一个字节的8个二进制位，按照上面的规则转成二组，最后一组除了前面加二个0以外，后面再加4个0。这样得到一个二位的Base64编码，再在末尾补上两个"="号。')])])}],!1,null,null,null);n.options.__file="base64处理.md";s.default=n.exports}}]);